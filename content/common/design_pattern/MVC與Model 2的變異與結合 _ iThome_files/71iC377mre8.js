if (self.CavalryLogger) { CavalryLogger.start_js(["DVhMx"]); }

__d("PixelRatioConst",[],(function a(b,c,d,e,f,g){f.exports={cookieName:"dpr"}}),null);
__d("ChannelClientID",[],(function a(b,c,d,e,f,g){var h=(Math.random()*2147483648|0).toString(16),i={getID:function j(){return h}};f.exports=i}),null);
__d("camelize",[],(function a(b,c,d,e,f,g){var h=/-(.)/g;function i(j){return j.replace(h,function(k,l){return l.toUpperCase()})}f.exports=i}),18);
__d("getOpacityStyleName",[],(function a(b,c,d,e,f,g){var h=false,i=null;function j(){if(!h){if(document.body&&"opacity"in document.body.style)i="opacity";else{var k=document.createElement("div");k.style.filter="alpha(opacity=100)";if(k.style.filter)i="filter";k=null}h=true}return i}f.exports=j}),null);
__d("hyphenate",[],(function a(b,c,d,e,f,g){var h=/([A-Z])/g;function i(j){return j.replace(h,"-$1").toLowerCase()}f.exports=i}),null);
__d("getStyleProperty",["camelize","hyphenate"],(function a(b,c,d,e,f,g){function h(j){return j==null?j:String(j)}function i(j,k){var l=void 0;if(window.getComputedStyle){l=window.getComputedStyle(j,null);if(l)return h(l.getPropertyValue(c("hyphenate")(k)))}if(document.defaultView&&document.defaultView.getComputedStyle){l=document.defaultView.getComputedStyle(j,null);if(l)return h(l.getPropertyValue(c("hyphenate")(k)));if(k==="display")return"none"}if(j.currentStyle){if(k==="float")return h(j.currentStyle.cssFloat||j.currentStyle.styleFloat);return h(j.currentStyle[c("camelize")(k)])}return h(j.style&&j.style[c("camelize")(k)])}f.exports=i}),null);
__d("StyleCore",["invariant","camelize","containsNode","ex","getOpacityStyleName","getStyleProperty","hyphenate"],(function a(b,c,d,e,f,g,h){function i(p,q){var r=o.get(p,q);return r==="auto"||r==="scroll"}var j=new RegExp("\\s*([^\\s:]+)\\s*:\\s*([^;('\"]*(?:(?:\\([^)]*\\)|\"[^\"]*\"|'[^']*')[^;(?:'\"]*)*)(?:;|$)","g");function k(p){var q={};p.replace(j,function(r,s,t){q[s]=t;return t});return q}function l(p){var q="";for(var r in p)if(p[r])q+=r+":"+p[r]+";";return q}function m(p){return p!==""?"alpha(opacity="+p*100+")":""}function n(p,q,r){switch(c("hyphenate")(q)){case"font-weight":case"line-height":case"opacity":case"z-index":case"animation-iteration-count":case"-webkit-animation-iteration-count":break;case"width":case"height":var s=parseInt(r,10)<0;!s||h(0);default:isNaN(r)||!r||r==="0"||h(0);break}}var o={set:function p(q,r,s){n("Style.set",r,s);var t=q.style;switch(r){case"opacity":if(c("getOpacityStyleName")()==="filter")t.filter=m(s);else t.opacity=s;break;case"float":t.cssFloat=t.styleFloat=s||"";break;default:try{t[c("camelize")(r)]=s}catch(u){throw new Error(c("ex")('Style.set: "%s" argument is invalid: %s',r,s))}}},apply:function p(q,r){var s=void 0;for(s in r)n("Style.apply",s,r[s]);if("opacity"in r&&c("getOpacityStyleName")()==="filter"){r.filter=m(r.opacity);delete r.opacity}var t=k(q.style.cssText);for(s in r){var u=r[s];delete r[s];var v=c("hyphenate")(s);for(var w in t)if(w===v||w.indexOf(v+"-")===0)delete t[w];r[v]=u}Object.assign(t,r);q.style.cssText=l(t)},get:c("getStyleProperty"),getFloat:function p(q,r){return parseFloat(o.get(q,r),10)},getOpacity:function p(q){if(c("getOpacityStyleName")()==="filter"){var r=o.get(q,"filter");if(r){var s=/(\d+(?:\.\d+)?)/.exec(r);if(s)return parseFloat(s.pop())/100}}return o.getFloat(q,"opacity")||1},isFixed:function p(q){while(c("containsNode")(document.body,q)){if(o.get(q,"position")==="fixed")return true;q=q.parentNode}return false},getScrollParent:function p(q){if(!q)return null;while(q&&q!==document.body){if(i(q,"overflow")||i(q,"overflowY")||i(q,"overflowX"))return q;q=q.parentNode}return window}};f.exports=o}),null);
__d("Style",["StyleCore","$"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("StyleCore"),{get:function i(j,k){typeof j==="string";return c("StyleCore").get(c("$")(j),k)},getFloat:function i(j,k){typeof j==="string";return c("StyleCore").getFloat(c("$")(j),k)}});f.exports=h}),null);
__d("PlatformDialog",["cx","DOMEventListener","DOMEvent","CSS"],(function a(b,c,d,e,f,g,h){var i;j.getInstance=function(){"use strict";return i};function j(k,l,m){"use strict";i=this;this.$PlatformDialog1=k;this.$PlatformDialog2=l;this.$PlatformDialog3=false;c("DOMEventListener").add(this.$PlatformDialog1,"submit",function(n){if(this.$PlatformDialog3){new(c("DOMEvent"))(n).kill();return}this.$PlatformDialog3=true;if(m)c("CSS").addClass(k,"_32qa")}.bind(this))}j.prototype.getForm=function(){"use strict";return this.$PlatformDialog1};j.prototype.getDisplay=function(){"use strict";return this.$PlatformDialog2};j.prototype.hasBeenSubmitted=function(){"use strict";return this.$PlatformDialog3};j.RESPONSE="platform/dialog/response";f.exports=j}),null);
__d("FBJSON",[],(function a(b,c,d,e,f,g){f.exports={parse:JSON.parse,stringify:JSON.stringify}}),null);
__d("BGSyncConst",[],(function a(b,c,d,e,f,g){f.exports={msgTag:{requestID:"request-bg-sync-id",requestUpload:"request-bg-sync-upload",removeRequest:"remove-cached-request",queueRequest:"queue-request"},reqTag:{banzai:"banzai"}}}),null);
__d("CurrentUser",["Cookie","CurrentUserInitialData"],(function a(b,c,d,e,f,g){var h={getID:function i(){return c("CurrentUserInitialData").USER_ID},getAccountID:function i(){return c("CurrentUserInitialData").ACCOUNT_ID},getWorkUserID:function i(){return c("CurrentUserInitialData").WORK_USER_ID},getName:function i(){return c("CurrentUserInitialData").NAME},getShortName:function i(){return c("CurrentUserInitialData").SHORT_NAME},isLoggedIn:function i(){return c("CurrentUserInitialData").USER_ID&&c("CurrentUserInitialData").USER_ID!=="0"},isLoggedInNow:function i(){if(!h.isLoggedIn())return false;if(c("CurrentUserInitialData").IS_INTERN_SITE)return true;if(c("CurrentUserInitialData").IS_WORK_USER)return true;if(c("CurrentUserInitialData").ORIGINAL_USER_ID)return c("CurrentUserInitialData").ORIGINAL_USER_ID===c("Cookie").get("c_user");return c("CurrentUserInitialData").USER_ID===c("Cookie").get("c_user")},isEmployee:function i(){return!!c("CurrentUserInitialData").IS_EMPLOYEE},hasWorkUser:function i(){return!!c("CurrentUserInitialData").HAS_WORK_USER},isWorkUser:function i(){return!!c("CurrentUserInitialData").IS_WORK_USER},isGray:function i(){return!!c("CurrentUserInitialData").IS_GRAY},isUnderage:function i(){return!!c("CurrentUserInitialData").IS_UNDERAGE}};f.exports=h}),18);
__d("QueryString",[],(function a(b,c,d,e,f,g){function h(l){var m=[];Object.keys(l).sort().forEach(function(n){var o=l[n];if(typeof o==="undefined")return;if(o===null){m.push(n);return}m.push(encodeURIComponent(n)+"="+encodeURIComponent(o))});return m.join("&")}function i(l,m){var n={};if(l==="")return n;var o=l.split("&");for(var p=0;p<o.length;p++){var q=o[p].split("=",2),r=decodeURIComponent(q[0]);if(m&&Object.prototype.hasOwnProperty.call(n,r))throw new URIError("Duplicate key: "+r);n[r]=q.length===2?decodeURIComponent(q[1]):null}return n}function j(l,m){return l+(l.indexOf("?")!==-1?"&":"?")+(typeof m==="string"?m:k.encode(m))}var k={encode:h,decode:i,appendToUrl:j};f.exports=k}),null);
__d("ClientServiceWorkerMessage",[],(function a(b,c,d,e,f,g){function h(i,j,k){"use strict";this.$ClientServiceWorkerMessage1=i;this.$ClientServiceWorkerMessage2=j;this.$ClientServiceWorkerMessage3=k}h.prototype.sendViaController=function(){"use strict";if(!navigator.serviceWorker||!navigator.serviceWorker.controller)return;var i=new self.MessageChannel();if(this.$ClientServiceWorkerMessage3)i.port1.onmessage=this.$ClientServiceWorkerMessage3;navigator.serviceWorker.controller.postMessage({command:this.$ClientServiceWorkerMessage1,data:this.$ClientServiceWorkerMessage2},[i.port2])};f.exports=h}),null);
__d("killswitch",["KSConfig"],(function a(b,c,d,e,f,g){"use strict";function h(i){return c("KSConfig").killed.has(i)}h.override=function(i,j){if(j)c("KSConfig").killed.add(i);else c("KSConfig").killed["delete"](i)};f.exports=h}),null);
__d("FbtResultBase",["ErrorUtils","ex","killswitch"],(function a(b,c,d,e,f,g){function h(j){}function i(j){"use strict";this.$FbtResultBase1=j;this.$FbtResultBase2=null}i.prototype.flattenToArray=function(){"use strict";return i.flattenToArray(this.$FbtResultBase1)};i.prototype.getContents=function(){"use strict";return this.$FbtResultBase1};i.prototype.toString=function(){"use strict";if(this.$FbtResultBase2!==null)return this.$FbtResultBase2;var j="",k=this.flattenToArray();for(var l=0;l<k.length;++l){var m=k[l];if(typeof m==="string"||m instanceof i)j+=m;else{var n="[Not logged]";if(!c("killswitch")("JS_RELIABILITY_FBT_LOGGING")&&Math.random()>.95)try{n=JSON.stringify(m)}catch(o){n="["+o+"]"}var p=new Error(c("ex")("Converting to a string will drop content data. %s",n));c("ErrorUtils").reportError(p,true)}}if(!Object.isFrozen(this))this.$FbtResultBase2=j;return j};i.prototype.toJSON=function(){"use strict";return this.toString()};i.flattenToArray=function(j){"use strict";var k=[];for(var l=0;l<j.length;++l){var m=j[l];if(Array.isArray(m))k.push.apply(k,i.flattenToArray(m));else if(m instanceof i)k.push.apply(k,m.flattenToArray());else k.push(m)}return k};["replace","split","toLowerCase","toUpperCase","indexOf","charAt","charCodeAt","substr","substring","trim","lastIndexOf","search","match","slice","codePointAt","endsWith","includes","localeCompare","normalize","repeat","startsWith","toLocaleLowerCase","toLocaleUpperCase","trimLeft","trimRight","link","anchor","fontcolor","fontsize","big","blink","bold","fixed","italics","small","strike","sub","sup","contains"].forEach(function(j){i.prototype[j]=function(){"use strict";h(j);return this.toString()[j].apply(this,arguments)}}.bind(this));f.exports=i}),18);
__d("isScalar",[],(function a(b,c,d,e,f,g){function h(i){return/string|number|boolean/.test(typeof i)}f.exports=h}),null);
__d("DOM",["$","DOMQuery","ErrorUtils","Event","FbtResultBase","HTML","UserAgent_DEPRECATED","createArrayFromMixed","isNode","isScalar","isTextNode"],(function a(b,c,d,e,f,g){var h={create:function k(l,m,n){var o=document.createElement(l);if(m)h.setAttributes(o,m);if(n!=null)h.setContent(o,n);return o},setAttributes:function k(l,m){if(m.type)l.type=m.type;for(var n in m){var o=m[n],p=/^on/i.test(n);if(n=="type")continue;else if(n=="style")if(typeof o=="string")l.style.cssText=o;else Object.assign(l.style,o);else if(p)c("Event").listen(l,n.substr(2),o);else if(n in l)l[n]=o;else if(l.setAttribute)l.setAttribute(n,o)}},prependContent:function k(l,m){if(!l)throw new Error("DOM.prependContent: reference element is not a node");return j(m,l,function(n){l.firstChild?l.insertBefore(n,l.firstChild):l.appendChild(n)})},insertAfter:function k(l,m){if(!l||!l.parentNode)throw new Error("DOM.insertAfter: reference element does not have a parent.");var n=l.parentNode;return j(m,n,function(o){l.nextSibling?n.insertBefore(o,l.nextSibling):n.appendChild(o)})},insertBefore:function k(l,m){if(!l||!l.parentNode)throw new Error("DOM.insertBefore: reference element does not have a parent.");var n=l.parentNode;return j(m,n,function(o){n.insertBefore(o,l)})},setContent:function k(l,m){if(!l)throw new Error("DOM.setContent: reference element is not a node.");while(l.firstChild)i(l.firstChild);return h.appendContent(l,m)},appendContent:function k(l,m){if(!l)throw new Error("DOM.appendContent: reference element is not a node.");return j(m,l,function(n){l.appendChild(n)})},replace:function k(l,m){if(!l||!l.parentNode)throw new Error("DOM.replace: reference element does not have a parent.");var n=l.parentNode;return j(m,n,function(o){n.replaceChild(o,l)})},remove:function k(l){i(c("$")(l))},empty:function k(l){l=c("$")(l);while(l.firstChild)i(l.firstChild)}};Object.assign(h,c("DOMQuery"));function i(k){if(k.parentNode)k.parentNode.removeChild(k)}function j(k,l,m){k=c("HTML").replaceJSONWrapper(k);if(k instanceof c("HTML")&&l.firstChild===null&&-1===k.toString().indexOf("<script")){var n=c("UserAgent_DEPRECATED").ie();if(!n||n>7&&!c("DOMQuery").isNodeOfType(l,["table","tbody","thead","tfoot","tr","select","fieldset"])){var o=n?'<em style="display:none;">&nbsp;</em>':"";l.innerHTML=o+k;n&&l.removeChild(l.firstChild);return Array.from(l.childNodes)}}else if(c("isTextNode")(l)){l.data=k;return[k]}var p=document.createDocumentFragment(),q,r=[],s=[];k=c("createArrayFromMixed")(k);if(k.length===1&&k[0]instanceof c("FbtResultBase"))k=k[0].getContents();for(var t=0;t<k.length;t++){q=c("HTML").replaceJSONWrapper(k[t]);if(q instanceof c("HTML")){s.push(q.getAction());var u=q.getNodes();for(var v=0;v<u.length;v++){r.push(u[v]);p.appendChild(u[v])}}else if(c("isScalar")(q)||q instanceof c("FbtResultBase")){var w=document.createTextNode(q);r.push(w);p.appendChild(w)}else if(c("isNode")(q)){r.push(q);p.appendChild(q)}}m(p);s.forEach(function(x){x()});return r}f.exports=h}),18);
__d("SharedClientServiceWorkerBackgroundSync",["BGSyncConst","ClientServiceWorkerMessage","DOM","ServiceWorkerBackgroundSyncGK","memoize"],(function a(b,c,d,e,f,g){var h=c("memoize")(function(){var l=new Uint32Array(1);return self.crypto.getRandomValues(l)[0].toString().substring(2,16)});function i(event,l,m){var n=h(),o=event.data&&event.data.data?event.data.data:{},p=l.toString();if(n&&o.param){if(p.indexOf("?")>-1)p+="&";else p+="?";p=""+p+o.param+"&client_id="+n}if(m)m(p,o)}function j(l,m,n,o){new(c("ClientServiceWorkerMessage"))("bgSync",{clientID:h(),data:n,msgTag:l,reqTag:m},o).sendViaController()}var k={getBackgroundSyncUri:function l(m,n,o,p){if(k.isBackgroundSyncAvailable())j(c("BGSyncConst").msgTag.requestID,n,o,function(event){return i(event,m,p)});else if(p)p(m,o)},isBackgroundSyncAvailable:function l(){return self&&"serviceWorker"in self.navigator&&"SyncManager"in self&&!!self.navigator.serviceWorker.controller&&c("ServiceWorkerBackgroundSyncGK").background_sync_sw},makeFileList:function l(m){var n={},o=c("DOM").scry(m,"input"),p=0;for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,v=u.files;if(v)for(var w=v,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z;n[p++]=A}}return n},makeFormData:function l(m){var n=c("DOM").convertFormToDictionary(m),o=k.makeFileList(m),p=new FormData();Object.values(o).forEach(function(r){p.append("filelist[]",r)});for(var q in n)p.append(q,n[q]);return p},postFailureHandler:function l(m,n){j(c("BGSyncConst").msgTag.requestUpload,n,null,null)},postSuccessHandler:function l(m,n,o){j(c("BGSyncConst").msgTag.removeRequest,n,{bgSyncID:o},null)},queueRequest:function l(m,n){if(k.isBackgroundSyncAvailable())j(c("BGSyncConst").msgTag.queueRequest,n,m,null)}};f.exports=k}),18);
__d("ServiceWorkerBackgroundSyncRequest",["getAsyncHeaders","SharedClientServiceWorkerBackgroundSync","URI","ZeroRewrites"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";this.setMethod("POST");this.setPostData(null);this.setTag(i);this.setBgSyncID("default");if(j!==undefined)this.setURI(j)}h.prototype.queueRequest=function(){"use strict";if(this.$ServiceWorkerBackgroundSyncRequest4===undefined)return;c("SharedClientServiceWorkerBackgroundSync").getBackgroundSyncUri(this.getURI(),this.$ServiceWorkerBackgroundSyncRequest2,null,function(i,j){return this.$ServiceWorkerBackgroundSyncRequest8(i,j)}.bind(this))};h.prototype.send=function(){"use strict";if(this.$ServiceWorkerBackgroundSyncRequest4===undefined)return;c("SharedClientServiceWorkerBackgroundSync").getBackgroundSyncUri(this.getURI(),this.$ServiceWorkerBackgroundSyncRequest2,null,function(i,j){return this.$ServiceWorkerBackgroundSyncRequest9(i,j)}.bind(this))};h.prototype.setBgSyncID=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest1=i;return this};h.prototype.getBgSyncID=function(){"use strict";return this.$ServiceWorkerBackgroundSyncRequest1};h.prototype.setMethod=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest3=i;return this};h.prototype.setPostData=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest5=i;return this};h.prototype.setTag=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest2=i;return this};h.prototype.getTag=function(){"use strict";return this.$ServiceWorkerBackgroundSyncRequest2};h.prototype.setURI=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest4=c("ZeroRewrites").rewriteURI(new(c("URI"))(i));return this};h.prototype.getURI=function(){"use strict";return this.$ServiceWorkerBackgroundSyncRequest4.getQualifiedURI().toString()};h.prototype.setErrorHandler=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest6=i;return this};h.prototype.setSuccessHandler=function(i){"use strict";this.$ServiceWorkerBackgroundSyncRequest7=i;return this};h.prototype.$ServiceWorkerBackgroundSyncRequest8=function(i,j){"use strict";this.setBgSyncID(j.bgSyncID);var k=new Blob([this.$ServiceWorkerBackgroundSyncRequest5],{type:"application/x-www-form-urlencoded"}),l={request:{body:k,credentials:"include",headers:c("getAsyncHeaders")(new(c("URI"))(i)),method:this.$ServiceWorkerBackgroundSyncRequest3,referrer:self.location.href,registeredTime:Date.now(),tryCount:1,url:i},bgSyncID:this.getBgSyncID()};c("SharedClientServiceWorkerBackgroundSync").queueRequest(l,this.$ServiceWorkerBackgroundSyncRequest2)};h.prototype.$ServiceWorkerBackgroundSyncRequest9=function(i,j){"use strict";if(c("SharedClientServiceWorkerBackgroundSync").isBackgroundSyncAvailable())this.setBgSyncID(j.bgSyncID);var k=c("ZeroRewrites").getTransportBuilderForURI(this.$ServiceWorkerBackgroundSyncRequest4)();k.open(this.$ServiceWorkerBackgroundSyncRequest3,this.$ServiceWorkerBackgroundSyncRequest4.toString(),true);k.onreadystatechange=function(){if(k.readyState>=4){var l=void 0;try{l=k.status}catch(m){l=0}if(l===200)this.$ServiceWorkerBackgroundSyncRequest10(k.responseText);else this.$ServiceWorkerBackgroundSyncRequest11(k.statusText)}}.bind(this);k.send(this.$ServiceWorkerBackgroundSyncRequest5)};h.prototype.$ServiceWorkerBackgroundSyncRequest11=function(i){"use strict";if(this.$ServiceWorkerBackgroundSyncRequest6)this.$ServiceWorkerBackgroundSyncRequest6(i);if(c("SharedClientServiceWorkerBackgroundSync").isBackgroundSyncAvailable())c("SharedClientServiceWorkerBackgroundSync").postFailureHandler(i,this.$ServiceWorkerBackgroundSyncRequest2)};h.prototype.$ServiceWorkerBackgroundSyncRequest10=function(i){"use strict";if(this.$ServiceWorkerBackgroundSyncRequest7)this.$ServiceWorkerBackgroundSyncRequest7(i);if(c("SharedClientServiceWorkerBackgroundSync").isBackgroundSyncAvailable())c("SharedClientServiceWorkerBackgroundSync").postSuccessHandler(i,this.$ServiceWorkerBackgroundSyncRequest2,this.$ServiceWorkerBackgroundSyncRequest1)};f.exports=h}),null);
/**
 * @providesModule SnappyCompress
 * @preserve-whitespace
 *
 * snappyjs:
 *   license: MIT
 *   author: Zhipeng Jia
 *   version: 0.5.0
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
__d("SnappyCompress",[],(function $module_SnappyCompress(global,require,requireDynamic,requireLazy,module,exports){
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof requireSnappy=="function"&&requireSnappy;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof requireSnappy=="function"&&requireSnappy;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(requireSnappy,module,exports){
var SnappyJS=window.SnappyJS||{};SnappyJS.uncompress=requireSnappy("./index").uncompress,SnappyJS.compress=requireSnappy("./index").compress,window.SnappyJS=SnappyJS;
},{"./index":2}],2:[function(requireSnappy,module,exports){
"use strict";function isNode(){return"object"==typeof process&&"object"==typeof process.versions&&"undefined"!=typeof process.versions.node?!0:!1}function isUint8Array(r){return r instanceof Uint8Array&&(!is_node||!Buffer.isBuffer(r))}function isArrayBuffer(r){return r instanceof ArrayBuffer}function isBuffer(r){return is_node?Buffer.isBuffer(r):!1}function uncompress(r){if(!isUint8Array(r)&&!isArrayBuffer(r)&&!isBuffer(r))throw new TypeError(TYPE_ERROR_MSG);var e=!1,s=!1;isUint8Array(r)?e=!0:isArrayBuffer(r)&&(s=!0,r=new Uint8Array(r));var n=new SnappyDecompressor(r),o=n.readUncompressedLength();if(-1===o)throw new Error("Invalid Snappy bitstream");var f,i;if(e){if(f=new Uint8Array(o),!n.uncompressToBuffer(f))throw new Error("Invalid Snappy bitstream")}else if(s){if(f=new ArrayBuffer(o),i=new Uint8Array(f),!n.uncompressToBuffer(i))throw new Error("Invalid Snappy bitstream")}else if(f=new Buffer(o),!n.uncompressToBuffer(f))throw new Error("Invalid Snappy bitstream");return f}function compress(r){if(!isUint8Array(r)&&!isArrayBuffer(r)&&!isBuffer(r))throw new TypeError(TYPE_ERROR_MSG);var e=!1,s=!1;isUint8Array(r)?e=!0:isArrayBuffer(r)&&(s=!0,r=new Uint8Array(r));var n,o,f,i=new SnappyCompressor(r),p=i.maxCompressedLength();return e?(n=new Uint8Array(p),f=i.compressToBuffer(n)):s?(n=new ArrayBuffer(p),o=new Uint8Array(n),f=i.compressToBuffer(o)):(n=new Buffer(p),f=i.compressToBuffer(n)),n.slice(0,f)}var is_node=isNode(),SnappyDecompressor=requireSnappy("./snappy_decompressor").SnappyDecompressor,SnappyCompressor=requireSnappy("./snappy_compressor").SnappyCompressor,TYPE_ERROR_MSG="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";exports.uncompress=uncompress,exports.compress=compress;

},{"./snappy_compressor":3,"./snappy_decompressor":4}],3:[function(requireSnappy,module,exports){
"use strict";function hashFunc(r,e){return 506832829*r>>>e}function load32(r,e){return r[e]+(r[e+1]<<8)+(r[e+2]<<16)+(r[e+3]<<24)}function equals32(r,e,a){return r[e]===r[a]&&r[e+1]===r[a+1]&&r[e+2]===r[a+2]&&r[e+3]===r[a+3]}function copyBytes(r,e,a,t,n){var o;for(o=0;n>o;o++)a[t+o]=r[e+o]}function emitLiteral(r,e,a,t,n){return 60>=a?(t[n]=a-1<<2,n+=1):256>a?(t[n]=240,t[n+1]=a-1,n+=2):(t[n]=244,t[n+1]=a-1&255,t[n+2]=a-1>>>8,n+=3),copyBytes(r,e,t,n,a),n+a}function emitCopyLessThan64(r,e,a,t){return 12>t&&2048>a?(r[e]=1+(t-4<<2)+(a>>>8<<5),r[e+1]=255&a,e+2):(r[e]=2+(t-1<<2),r[e+1]=255&a,r[e+2]=a>>>8,e+3)}function emitCopy(r,e,a,t){for(;t>=68;)e=emitCopyLessThan64(r,e,a,64),t-=64;return t>64&&(e=emitCopyLessThan64(r,e,a,60),t-=60),emitCopyLessThan64(r,e,a,t)}function compressFragment(r,e,a,t,n){for(var o=1;a>=1<<o&&MAX_HASH_TABLE_BITS>=o;)o+=1;o-=1;var s=32-o;"undefined"==typeof global_hash_tables[o]&&(global_hash_tables[o]=new Uint16Array(1<<o));var i,h=global_hash_tables[o];for(i=0;i<h.length;i++)h[i]=0;var u,p,l,f,c,y,m,_,L,C,B,S,b=e+a,d=e,A=e,T=!0,g=15;if(a>=g)for(u=b-g,e+=1,l=hashFunc(load32(r,e),s);T;){y=32,f=e;do{if(e=f,p=l,m=y>>>5,y+=1,f=e+m,e>u){T=!1;break}l=hashFunc(load32(r,f),s),c=d+h[p],h[p]=e-d}while(!equals32(r,e,c));if(!T)break;n=emitLiteral(r,A,e-A,t,n);do{for(_=e,L=4;b>e+L&&r[e+L]===r[c+L];)L+=1;if(e+=L,C=_-c,n=emitCopy(t,n,C,L),A=e,e>=u){T=!1;break}B=hashFunc(load32(r,e-1),s),h[B]=e-1-d,S=hashFunc(load32(r,e),s),c=d+h[S],h[S]=e-d}while(equals32(r,e,c));if(!T)break;e+=1,l=hashFunc(load32(r,e),s)}return b>A&&(n=emitLiteral(r,A,b-A,t,n)),n}function putVarint(r,e,a){do e[a]=127&r,r>>>=7,r>0&&(e[a]+=128),a+=1;while(r>0);return a}function SnappyCompressor(r){this.array=r}var BLOCK_LOG=16,BLOCK_SIZE=1<<BLOCK_LOG,MAX_HASH_TABLE_BITS=14,global_hash_tables=new Array(MAX_HASH_TABLE_BITS+1);SnappyCompressor.prototype.maxCompressedLength=function(){var r=this.array.length;return 32+r+Math.floor(r/6)},SnappyCompressor.prototype.compressToBuffer=function(r){var e,a=this.array,t=a.length,n=0,o=0;for(o=putVarint(t,r,o);t>n;)e=Math.min(t-n,BLOCK_SIZE),o=compressFragment(a,n,e,r,o),n+=e;return o},exports.SnappyCompressor=SnappyCompressor;

},{}],4:[function(requireSnappy,module,exports){
"use strict";function copyBytes(r,e,s,t,o){var p;for(p=0;o>p;p++)s[t+p]=r[e+p]}function selfCopyBytes(r,e,s,t){var o;for(o=0;t>o;o++)r[e+o]=r[e-s+o]}function SnappyDecompressor(r){this.array=r,this.pos=0}var WORD_MASK=[0,255,65535,16777215,4294967295];SnappyDecompressor.prototype.readUncompressedLength=function(){for(var r,e,s=0,t=0;32>t&&this.pos<this.array.length;){if(r=this.array[this.pos],this.pos+=1,e=127&r,e<<t>>>t!==e)return-1;if(s|=e<<t,128>r)return s;t+=7}return-1},SnappyDecompressor.prototype.uncompressToBuffer=function(r){for(var e,s,t,o,p=this.array,n=p.length,i=this.pos,a=0;i<p.length;)if(e=p[i],i+=1,0===(3&e)){if(s=(e>>>2)+1,s>60){if(i+3>=n)return!1;t=s-60,s=p[i]+(p[i+1]<<8)+(p[i+2]<<16)+(p[i+3]<<24),s=(s&WORD_MASK[t])+1,i+=t}if(i+s>n)return!1;copyBytes(p,i,r,a,s),i+=s,a+=s}else{switch(3&e){case 1:s=(e>>>2&7)+4,o=p[i]+(e>>>5<<8),i+=1;break;case 2:if(i+1>=n)return!1;s=(e>>>2)+1,o=p[i]+(p[i+1]<<8),i+=2;break;case 3:if(i+3>=n)return!1;s=(e>>>2)+1,o=p[i]+(p[i+1]<<8)+(p[i+2]<<16)+(p[i+3]<<24),i+=4}if(0===o||o>a)return!1;selfCopyBytes(r,a,o,s),a+=s}return!0},exports.SnappyDecompressor=SnappyDecompressor;

},{}]},{},[1]);

module.exports = SnappyJS;

/* tcRs24QsxV3 */}),null);
__d("SnappyCompressUtil",["SnappyCompress"],(function a(b,c,d,e,f,g){"use strict";var h={compressStringToSnappy:function i(j){if(window.Uint8Array===undefined||window.btoa===undefined)return null;var k=new window.Uint8Array(j.length);for(var l=0;l<j.length;l++)k[l]=j.charCodeAt(l);var m=null;try{m=c("SnappyCompress").compress(k)}catch(n){return null}var o="";for(var p=0;p<m.length;p++)o+=String.fromCharCode(m[p]);return window.btoa(o)}};f.exports=h}),null);
__d("BanzaiAdapter",["Arbiter","CurrentUser","QueryString","Run","SnappyCompressUtil","SiteData","UserAgent","URI","ZeroRewrites","BGSyncConst","ServiceWorkerBackgroundSyncRequest","SharedClientServiceWorkerBackgroundSync","getAsyncParams","setTimeoutAcrossTransitions","BanzaiConfig"],(function a(b,c,d,e,f,g){var h=[],i=new(c("Arbiter"))(),j="/ajax/bz",k="POST",l={},m=l.adapter={config:c("BanzaiConfig"),endpoint:j,getUserID:function n(){return c("CurrentUser").getID()},inform:function n(o){i.inform(o)},subscribe:function n(o,p){return i.subscribe(o,p)},cleanup:function n(){var o=h;h=[];o.forEach(function(p){if(p.readyState<4)p.abort()})},readyToSend:function n(){return c("UserAgent").isBrowser("IE <= 8")||navigator.onLine},send:function n(o,p,q,r){if(c("SharedClientServiceWorkerBackgroundSync").isBackgroundSyncAvailable()){var s=new(c("ServiceWorkerBackgroundSyncRequest"))(c("BGSyncConst").reqTag.banzai);s.setURI(new(c("URI"))(j));s.setMethod(k);s.setSuccessHandler(function(){if(p)p();if(!r)m.inform(l.OK)});s.setErrorHandler(function(v){if(q)q(v.status);if(!r)m.inform(l.ERROR)});s.setPostData(m.prepForTransit(o));s.send();return}var t=c("ZeroRewrites").rewriteURI(new(c("URI"))(j)),u=c("ZeroRewrites").getTransportBuilderForURI(t)();u.open(k,t.toString(),true);u.setRequestHeader("Content-Type","application/x-www-form-urlencoded");u.onreadystatechange=function(){if(u.readyState>=4){var v;try{v=u.status}catch(w){v=0}if(v==200){if(p)p();if(!r)m.inform(l.OK)}else{if(q)q(v);if(!r)m.inform(l.ERROR)}}};h.push(u);u.send(m.prepForTransit(o))},addRequestAuthData:function n(o){return o},prepForTransit:function n(o){var p=c("getAsyncParams")(k);p.q=JSON.stringify(o);p.ts=Date.now();p.ph=c("SiteData").push_phase;if(l.isEnabled("www_snappy_compression")){var q=Date.now(),r=c("SnappyCompressUtil").compressStringToSnappy(p.q);if(r!==null&&r.length<p.q.length){p.q=JSON.stringify(r);p.snappy_ms=Date.now()-q;p.snappy=true}}return c("QueryString").encode(p)},setHooks:function n(){},setUnloadHook:function n(){c("Run").onAfterUnload(l._unload)},onUnload:function n(o){c("Run").onAfterUnload(o)},isOkToSendViaBeacon:function n(){return true},queueRequest:function n(o){var p=new(c("ServiceWorkerBackgroundSyncRequest"))(c("BGSyncConst").reqTag.banzai,new(c("URI"))(j).getQualifiedURI());p.setMethod(k);p.setPostData(m.prepForTransit(o));p.queueRequest()}};f.exports=l}),18);
__d("ArbiterFrame",[],(function a(b,c,d,e,f,g){var h={inform:function i(j,k,l){var m=parent.frames,n=m.length,o;k.crossFrame=true;for(var p=0;p<n;p++){o=m[p];try{if(!o||o==window)continue;if(o.require)o.require("Arbiter").inform(j,k,l);else if(o.ServerJSAsyncLoader)o.ServerJSAsyncLoader.wakeUp(j,k,l)}catch(q){}}}};f.exports=h}),null);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function a(b,c,d,e,f,g){var h={getElementDimensions:function i(j){return{width:j.offsetWidth||0,height:j.offsetHeight||0}},getDocumentDimensions:function i(j){var k=c("getDocumentScrollElement")(j),l=k.scrollWidth||0,m=k.scrollHeight||0;return{width:l,height:m}},measureElementBox:function i(j,k,l,m,n){var o;switch(k){case"left":case"right":case"top":case"bottom":o=[k];break;case"width":o=["left","right"];break;case"height":o=["top","bottom"];break;default:throw Error("Invalid plane: "+k)}var p=function p(q,r){var s=0;for(var t=0;t<o.length;t++)s+=parseInt(c("Style").get(j,q+"-"+o[t]+r),10)||0;return s};return(l?p("padding",""):0)+(m?p("border","-width"):0)+(n?p("margin",""):0)}};f.exports=h}),null);
__d("WebPixelRatio",["Cookie","DOMEventListener","PixelRatioConst","Run"],(function a(b,c,d,e,f,g){var h=c("PixelRatioConst").cookieName,i=void 0,j=false,k=false;function l(){return window.devicePixelRatio||1}function m(){c("Cookie").set(h,String(l()))}function n(){c("Cookie").clear(h)}function o(){if(k)return;k=true;if(l()!==1)m()}var p={startDetecting:function q(r){i=r||1;if(j)return;j=true;if("onpagehide"in window)c("DOMEventListener").add(window,"pagehide",o);c("Run").onBeforeUnload(o,false)},get:function q(){return i||l()}};f.exports=p}),18);
__d("Log",["sprintf"],(function a(b,c,d,e,f,g){var h={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function i(k,l){var m=Array.prototype.slice.call(arguments,2),n=c("sprintf").apply(null,m),o=window.console;if(o&&j.level>=l)o[k in o?k:"log"](n)}var j={level:-1,Level:h,debug:i.bind(null,"debug",h.DEBUG),info:i.bind(null,"info",h.INFO),warn:i.bind(null,"warn",h.WARNING),error:i.bind(null,"error",h.ERROR)};f.exports=j}),null);
__d("Queue",[],(function a(b,c,d,e,f,g){var h={};function i(j){"use strict";this._opts=babelHelpers["extends"]({interval:0,processor:null},j);this._queue=[];this._stopped=true}i.prototype._dispatch=function(j){"use strict";if(this._stopped||this._queue.length===0)return;if(!this._opts.processor){this._stopped=true;throw new Error("No processor available")}if(this._opts.interval){this._opts.processor.call(this,this._queue.shift());this._timeout=setTimeout(this._dispatch.bind(this),this._opts.interval)}else while(this._queue.length)this._opts.processor.call(this,this._queue.shift())};i.prototype.enqueue=function(j){"use strict";if(this._opts.processor&&!this._stopped)this._opts.processor.call(this,j);else this._queue.push(j);return this};i.prototype.start=function(j){"use strict";if(j)this._opts.processor=j;this._stopped=false;this._dispatch();return this};i.prototype.isStarted=function(){"use strict";return!this._stopped};i.prototype.dispatch=function(){"use strict";this._dispatch(true)};i.prototype.stop=function(j){"use strict";this._stopped=true;if(j)clearTimeout(this._timeout);return this};i.prototype.merge=function(j,k){"use strict";this._queue[k?"unshift":"push"].apply(this._queue,j._queue);j._queue=[];this._dispatch();return this};i.prototype.getLength=function(){"use strict";return this._queue.length};i.get=function(j,k){"use strict";var l;if(j in h)l=h[j];else l=h[j]=new i(k);return l};i.exists=function(j){"use strict";return j in h};i.remove=function(j){"use strict";return delete h[j]};f.exports=i}),null);
__d("resolveWindow",[],(function a(b,c,d,e,f,g){function h(i){var j=window,k=i.split(".");try{for(var l=0;l<k.length;l++){var m=k[l],n=/^frames\[[\'\"]?([a-zA-Z0-9\-_]+)[\'\"]?\]$/.exec(m);if(n)j=j.frames[n[1]];else if(m==="opener"||m==="parent"||m==="top")j=j[m];else return null}}catch(o){return null}return j}f.exports=h}),null);
__d("XD",["Arbiter","DOM","DOMDimensions","Log","PHPQuerySerializer","URI","Queue","isFacebookURI","isInIframe","resolveWindow"],(function a(b,c,d,e,f,g){var h="fb_xdm_frame_"+location.protocol.replace(":",""),i={_callbacks:[],_opts:{autoResize:false,allowShrink:true,channelUrl:null,hideOverflow:false,resizeTimeout:1e3,resizeWidth:false,expectResizeAck:false,resizeAckTimeout:6e3},_lastResizeAckId:0,_resizeCount:0,_resizeTimestamp:0,_shrinker:null,init:function k(l){this._opts=babelHelpers["extends"]({},this._opts,l);if(this._opts.autoResize)this._startResizeMonitor();c("Arbiter").subscribe("Connect.Unsafe.resize.ack",function(m,n){if(!n.id)n.id=this._resizeCount;if(n.id>this._lastResizeAckId)this._lastResizeAckId=n.id}.bind(this))},getQueue:function k(){if(!this._queue)this._queue=new(c("Queue"))();return this._queue},setChannelUrl:function k(l){this.getQueue().start(function(m){return this.send(m,l)}.bind(this))},send:function k(l,m){m=m||this._opts.channelUrl;if(!m){this.getQueue().enqueue(l);return}var n={},o=new(c("URI"))(m);Object.assign(n,l,c("PHPQuerySerializer").deserialize(o.getFragment()));var p=new(c("URI"))(n.origin).getOrigin(),q=c("resolveWindow")(n.relation.replace(/^parent\./,"")),r=50,s=function s(){var t=q.frames[h];try{t.proxyMessage(c("PHPQuerySerializer").serialize(n),p)}catch(u){if(--r)setTimeout(s,100);else c("Log").warn('No such frame "'+h+'" to proxyMessage to')}};s()},_computeSize:function k(){var l=c("DOMDimensions").getDocumentDimensions(),m=0;if(this._opts.resizeWidth){var n=document.body;if(n.clientWidth<n.scrollWidth)m=l.width;else{var o=n.childNodes;for(var p=0;p<o.length;p++){var q=o[p],r=q.offsetLeft+q.offsetWidth;if(r>m)m=r}}m=Math.max(m,i.forced_min_width)}l.width=m;if(this._opts.allowShrink){if(!this._shrinker)this._shrinker=c("DOM").create("div");c("DOM").appendContent(document.body,this._shrinker);l.height=Math.max(this._shrinker.offsetTop,0)}return l},_startResizeMonitor:function k(){var l,m=document.documentElement;if(this._opts.hideOverflow){m.style.overflow="hidden";document.body.style.overflow="hidden"}var n=function(){var o=this._computeSize(),p=Date.now(),q=this._lastResizeAckId<this._resizeCount&&p-this._resizeTimestamp>this._opts.resizeAckTimeout;if(!l||this._opts.expectResizeAck&&q||this._opts.allowShrink&&l.width!=o.width||!this._opts.allowShrink&&l.width<o.width||this._opts.allowShrink&&l.height!=o.height||!this._opts.allowShrink&&l.height<o.height){l=o;this._resizeCount++;this._resizeTimestamp=p;var r={type:"resize",height:o.height,ackData:{id:this._resizeCount}};if(o.width&&o.width!=0)r.width=o.width;try{if(c("isFacebookURI")(new(c("URI"))(document.referrer))&&c("isInIframe")()&&window.name&&window.parent.location&&window.parent.location.toString&&c("isFacebookURI")(new(c("URI"))(window.parent.location))){var s=window.parent.document.getElementsByTagName("iframe");for(var t=0;t<s.length;t=t+1)if(s[t].name==window.name){if(this._opts.resizeWidth)s[t].style.width=r.width+"px";s[t].style.height=r.height+"px"}}this.send(r)}catch(u){this.send(r)}}}.bind(this);n();setInterval(n,this._opts.resizeTimeout)}},j=babelHelpers["extends"]({},i);f.exports.UnverifiedXD=j;f.exports.XD=i;b.UnverifiedXD=j;b.XD=i}),null);
__d("ImageTimingHelper",["Arbiter","BigPipe","URI"],(function a(b,c,d,e,f,g){var h={},i={};c("Arbiter").subscribe(c("BigPipe").Events.init,function(j,k){if(k.lid&&k.lid!=="0")k.arbiter.subscribe("images_displayed",function(j,k){var l=h[k.lid];if(!l)l=h[k.lid]=[];k.images.forEach(function(m){try{var n=new(c("URI"))(m);m=n.setFragment("").toString()}catch(o){return}if(i[m])return;i[m]=true;l.push({pagelet:k.pagelet,timeslice:k.timeslice,ts:k.ts,uri:m})})})});f.exports.getImageTimings=function(j){return h[j]||[]}}),null);
__d("PageletEventsHelper",["Arbiter","PageletEventConstsJS"],(function a(b,c,d,e,f,g){var h="BigPipe/init",i="pagelet_event",j="phase_begin",k={},l=[],m=false;function n(){return{pagelets:{},categories:{},phase_start:{},display_resources:{},all_resources:{}}}function o(r,s,t,u){if(k[u].pagelets[s]==undefined)k[u].pagelets[s]={};k[u].pagelets[s][r]=t}function p(r){r.subscribe(i,function(s,t){var event=t.event,u=t.ts,v=t.id,w=t.lid,x=t.phase,y=t.categories,z=t.allResources,A=t.displayResources;o(event,v,u,w);var B=k[w],C=B.pagelets[v];if(event===c("PageletEventConstsJS").ARRIVE_END){C.phase=x;B.all_resources[v]=z;B.display_resources[v]=A}if((event===c("PageletEventConstsJS").ONLOAD_END||event===c("PageletEventConstsJS").DISPLAY_END)&&y)y.forEach(function(F){if(B.categories[F]==undefined)B.categories[F]={};B.categories[F][event]=u});for(var D=0,E=l.length;D<E;D++)l[D](v,event,u,w)});r.subscribe(j,function(event,s){k[s.lid].phase_start[s.phase]=s.ts})}var q={init:function r(){if(m)return;c("Arbiter").subscribe(h,function(event,s){var t=s.lid,u=s.arbiter;k[t]=n();p(u)});m=true},getMetrics:function r(s){if(k[s])return JSON.parse(JSON.stringify(k[s]));return null},subscribeToPageletEvents:function r(s){l.push(s);return{remove:function t(){l.splice(0,l.indexOf(s))}}}};f.exports=q}),null);
__d("Plugin",["Arbiter","ArbiterFrame"],(function a(b,c,d,e,f,g){var h={CONNECT:"platform/plugins/connect",DISCONNECT:"platform/plugins/disconnect",ERROR:"platform/plugins/error",RELOAD:"platform/plugins/reload",DIALOG:"platform/plugins/dialog",connect:function i(j,k){var l={identifier:j,href:j,story_fbid:k};c("Arbiter").inform(h.CONNECT,l);c("ArbiterFrame").inform(h.CONNECT,l)},disconnect:function i(j,k){var l={identifier:j,href:j,story_fbid:k};c("Arbiter").inform(h.DISCONNECT,l);c("ArbiterFrame").inform(h.DISCONNECT,l)},error:function i(j,k){c("Arbiter").inform(h.ERROR,{action:j,content:k})},reload:function i(j){c("Arbiter").inform(h.RELOAD,{reloadUrl:j||""});c("ArbiterFrame").inform(h.RELOAD,{reloadUrl:j||""})},reloadOtherPlugins:function i(j,k){c("ArbiterFrame").inform(h.RELOAD,{reloadUrl:"",reload:j||"",identifier:k||""})}};f.exports=h}),null);
__d("StrSet",[],(function a(b,c,d,e,f,g){function h(i){"use strict";this.$StrSet2={};this.$StrSet1=0;if(i)this.addAll(i)}h.prototype.add=function(i){"use strict";if(!Object.prototype.hasOwnProperty.call(this.$StrSet2,i)){this.$StrSet2[i]=true;this.$StrSet1++}return this};h.prototype.addAll=function(i){"use strict";i.forEach(this.add,this);return this};h.prototype.remove=function(i){"use strict";if(Object.prototype.hasOwnProperty.call(this.$StrSet2,i)){delete this.$StrSet2[i];this.$StrSet1--}return this};h.prototype.removeAll=function(i){"use strict";i.forEach(this.remove,this);return this};h.prototype.toArray=function(){"use strict";return Object.keys(this.$StrSet2)};h.prototype.toMap=function(i){"use strict";var j={};Object.keys(this.$StrSet2).forEach(function(k){j[k]=typeof i=="function"?i(k):i||true});return j};h.prototype.contains=function(i){"use strict";return Object.prototype.hasOwnProperty.call(this.$StrSet2,i)};h.prototype.count=function(){"use strict";return this.$StrSet1};h.prototype.clear=function(){"use strict";this.$StrSet2={};this.$StrSet1=0;return this};h.prototype.clone=function(){"use strict";return new h(this)};h.prototype.forEach=function(i,j){"use strict";Object.keys(this.$StrSet2).forEach(i,j)};h.prototype.map=function(i,j){"use strict";return Object.keys(this.$StrSet2).map(i,j)};h.prototype.some=function(i,j){"use strict";return Object.keys(this.$StrSet2).some(i,j)};h.prototype.every=function(i,j){"use strict";return Object.keys(this.$StrSet2).every(i,j)};h.prototype.filter=function(i,j){"use strict";return new h(Object.keys(this.$StrSet2).filter(i,j))};h.prototype.union=function(i){"use strict";return this.clone().addAll(i)};h.prototype.intersect=function(i){"use strict";return this.filter(function(j){return i.contains(j)})};h.prototype.difference=function(i){"use strict";return i.filter(function(j){return!this.contains(j)}.bind(this))};h.prototype.equals=function(i){"use strict";var j=function j(n,o){return n===o?0:n<o?-1:1},k=this.toArray(),l=i.toArray();if(k.length!==l.length)return false;var m=k.length;k=k.sort(j);l=l.sort(j);while(m--)if(k[m]!==l[m])return false;return true};f.exports=h}),null);
__d("PlatformBaseVersioning",["invariant","PlatformVersions","StrSet","getObjectValues"],(function a(b,c,d,e,f,g,h){var i=new(c("StrSet"))(c("getObjectValues")(c("PlatformVersions").versions)),j=location.pathname,k=j.substring(1,j.indexOf("/",1)),l=i.contains(k)?k:c("PlatformVersions").versions.UNVERSIONED;function m(j,p){if(p==c("PlatformVersions").versions.UNVERSIONED)return j;i.contains(p)||h(0);if(j.indexOf("/")!==0)j="/"+j;return"/"+p+j}function n(j){if(i.contains(j.substring(1,j.indexOf("/",1))))return j.substring(j.indexOf("/",1));return j}var o={addVersionToPath:m,getLatestVersion:function p(){return c("PlatformVersions").LATEST},versionAwareURI:function p(q){return q.setPath(m(q.getPath(),l))},versionAwarePath:function p(j){return m(j,l)},getUnversionedPath:n};f.exports=o}),null);
__d("PlatformWidgetEndpoint",["PlatformBaseVersioning"],(function a(b,c,d,e,f,g){function h(m,n){return c("PlatformBaseVersioning").versionAwarePath("/dialog/"+m+(n?"/"+n:""))}function i(m,n){return c("PlatformBaseVersioning").versionAwarePath("/plugins/"+m+(n?"/"+n:""))}function j(m){return/^\/plugins\//.test(c("PlatformBaseVersioning").getUnversionedPath(m))}function k(m){return/^\/dialog\//.test(c("PlatformBaseVersioning").getUnversionedPath(m))}var l={dialog:h,plugins:i,isPluginEndpoint:j,isDialogEndpoint:k};f.exports=l}),null);
__d("PluginReturn",["invariant","Arbiter","Log","PlatformDialog","Plugin","URI","PlatformWidgetEndpoint"],(function a(b,c,d,e,f,g,h){c("Arbiter").subscribe(c("PlatformDialog").RESPONSE,function(event,j){if(j.error_code){c("Log").debug("Plugin Return Error (%s): %s",j.error_code,j.error_message||j.error_description);return}c("Plugin").reload(j.plugin_reload)});var i={auto:function j(){c("Arbiter").subscribe(c("Plugin").RELOAD,function(event,k){var l=typeof k=="object"?k.reloadUrl:k;i.reload(l)})},syncPlugins:function j(){c("Arbiter").subscribe(c("Plugin").RELOAD,function(event,k){if(k.crossFrame)i.reload(k.reloadUrl,k.reload,k.identifier)})},reload:function j(k,j,l){var m=c("URI").getRequestURI().removeQueryData("ret").removeQueryData("act").removeQueryData("hash").addQueryData("reload",j).addQueryData("id",l);if(k){var j=new(c("URI"))(k);c("PlatformWidgetEndpoint").isPluginEndpoint(j.getPath())||h(0);m.setPath(j.getPath()).addQueryData(j.getQueryData())}window.location.replace(m.toString())}};f.exports=i}),null);
__d("UnverifiedXD",["XD"],(function a(b,c,d,e,f,g){var h=c("XD").UnverifiedXD;f.exports=h}),null);
__d("PluginXDReady",["Arbiter","UnverifiedXD"],(function a(b,c,d,e,f,g){var h={handleMessage:function i(j){if(!j.method)return;try{c("Arbiter").inform("Connect.Unsafe."+j.method,JSON.parse(j.params),c("Arbiter").BEHAVIOR_PERSISTENT)}catch(k){}}};b.XdArbiter=h;c("UnverifiedXD").send({xd_action:"plugin_ready",name:window.name});f.exports=null}),null);
__d("BanzaiServiceWorker",["BanzaiAdapter","BGSyncConst","ServiceWorkerBackgroundSyncBanzaiGK","SharedClientServiceWorkerBackgroundSync","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){var h=c("BanzaiAdapter").adapter,i=6e4,j=void 0,k=void 0;function l(o){var p=Date.now()+o;if(!k||p<k){k=p;clearTimeout(j);j=c("setTimeoutAcrossTransitions")(n.sync,o)}}function m(o){h.queueRequest(o)}var n={flush:function o(){clearTimeout(j);j=0;n.sync()},isEnabled:function o(){return c("SharedClientServiceWorkerBackgroundSync").isBackgroundSyncAvailable()&&c("ServiceWorkerBackgroundSyncBanzaiGK").sw_background_sync_banzai},send:function o(p,q,r,s){if(q){h.send(p);if(!s)return}m(p);l(r)},sync:function o(){k=null;l(i);c("SharedClientServiceWorkerBackgroundSync").postFailureHandler(null,c("BGSyncConst").reqTag.banzai)}};f.exports=n}),18);
__d("BanzaiStreamPayloads",[],(function a(b,c,d,e,f,g){"use strict";var h={},i={addPayload:function j(k,l){h[k]=l},removePayload:function j(k){delete h[k]},unload:function j(k){Object.keys(h).forEach(function(l){var m=h[l];k(m.route,m.payload)})}};f.exports=i}),null);
__d("cancelIdleCallback",["IdleCallbackImplementation","TimerStorage"],(function a(b,c,d,e,f,g){f.exports=function(){for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];c("TimerStorage").unset(c("TimerStorage").IDLE_CALLBACK,i[0]);return Function.prototype.apply.call(c("IdleCallbackImplementation").cancelIdleCallback,b,i)}}),null);
__d("SetIdleTimeoutAcrossTransitions",["WebSpeedJSExperiments","cancelIdleCallback","requestIdleCallbackAcrossTransitions","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";var h=c("WebSpeedJSExperiments").idle_logging&&b.requestIdleCallback,i={},j={start:function k(l,m){var n;if(h){var n=function(){var o=c("setTimeoutAcrossTransitions")(function(){var p=c("requestIdleCallbackAcrossTransitions")(function(){l();delete i[p]});i[o]=p},m);return{v:o}}();if(typeof n==="object")return n.v}else return c("setTimeoutAcrossTransitions")(l,m)},clear:function k(l){clearTimeout(l);if(l in i){c("cancelIdleCallback")(i[l]);delete i[l]}}};f.exports=j}),18);
__d("WebStorageMutex",["WebStorage","pageID","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){var h=null,i=false,j=c("pageID");function k(){if(!i){i=true;h=c("WebStorage").getLocalStorage()}return h}function l(m){"use strict";this.name=m}l.testSetPageID=function(m){"use strict";j=m};l.prototype.$WebStorageMutex1=function(){"use strict";if(!k())return j;var m=k().getItem("mutex_"+this.name);m=m?m.split(":"):null;return m&&m[1]>=Date.now()?m[0]:null};l.prototype.$WebStorageMutex2=function(m){"use strict";if(!k())return;var n=Date.now()+(m||1e4);c("WebStorage").setItemGuarded(k(),"mutex_"+this.name,j+":"+n)};l.prototype.hasLock=function(){"use strict";return this.$WebStorageMutex1()==j};l.prototype.lock=function(m,n,o){"use strict";if(this.$WebStorageMutex3)clearTimeout(this.$WebStorageMutex3);if(j==(this.$WebStorageMutex1()||j))this.$WebStorageMutex2(o);this.$WebStorageMutex3=c("setTimeoutAcrossTransitions")(function(){this.$WebStorageMutex3=null;var p=this.hasLock()?m:n;if(p)p(this)}.bind(this),0)};l.prototype.unlock=function(){"use strict";if(this.$WebStorageMutex3)clearTimeout(this.$WebStorageMutex3);if(k()&&this.hasLock())k().removeItem("mutex_"+this.name)};f.exports=l}),null);
__d("Banzai",["BanzaiAdapter","BanzaiServiceWorker","BanzaiStreamPayloads","CurrentUser","ErrorUtils","ExecutionEnvironment","FBJSON","NavigationMetrics","SetIdleTimeoutAcrossTransitions","TimeSlice","Visibility","WebStorage","emptyFunction","isInIframe","lowerFacebookDomain","pageID","WebStorageMutex"],(function a(b,c,d,e,f,g){var h=c("BanzaiAdapter").adapter,i=c("isInIframe")(),j="bz:",k="ods:banzai",l="send_via_beacon_failure",m=0,n=1,o=2,p,q,r=[],s=null,t=[];function u(I){return I[2]>=Date.now()-(h.config.EXPIRY||c("BanzaiAdapter").EXPIRY)}function v(I,J){I.__meta.status=m;I[3]=(I[3]||0)+1;if(!I.__meta.retry&&J>=400&&J<600)r.push(I)}function w(I,J,K,L){var M=[I,J,K,0];M.__meta={retry:L===true,pageID:c("pageID"),userID:c("CurrentUser").getID(),status:m};return M}function x(){var I=[];t.forEach(function(N){var O=N.cb();O.forEach(function(P){var Q=N.route;if(Q){var R=w(Q,P,Date.now());R.__meta.onSuccess=N.onSuccess;R.__meta.onFailure=N.onFailure;I.push(R)}})});t=[];var J=[],K=[];C(J,K,true,I);if(J.length>0){J[0].send_method="beacon";var L=new Blob([h.addRequestAuthData(h.prepForTransit(J))],{type:"application/x-www-form-urlencoded"}),M=navigator.sendBeacon(c("BanzaiAdapter").adapter.endpoint,L);if(M)K.forEach(function(N){return I.__meta&&N.__meta.onSuccess&&N.__meta.onSuccess()});else K.forEach(function(N){return I.__meta&&N.__meta.onFailure&&N.__meta.onFailure()})}}function y(I){var J=Date.now()+I;if(!q||J<q){q=J;c("SetIdleTimeoutAcrossTransitions").clear(p);p=c("SetIdleTimeoutAcrossTransitions").start(z,I);return true}return false}var z=c("TimeSlice").guard(function(){A(null,null)},"Banzai.send",{isContinuation:false});function A(I,J){q=null;y(c("BanzaiAdapter").BASIC.delay);if(!h.readyToSend()){if(J)J();return}h.inform(c("BanzaiAdapter").SEND);var K=[],L=[];r=C(K,L,true,r);if(K.length<=0){h.inform(c("BanzaiAdapter").OK);if(I)I();return}K[0].trigger=s;s=null;K[0].send_method="ajax";h.send(K,function(){L.forEach(function(M){M.__meta.status=o;if(M.__meta.callback)M.__meta.callback()});if(I)I()},function(M){L.forEach(function(N){v(N,M)});if(J)J()})}function B(){if(!(navigator&&navigator.sendBeacon&&h.isOkToSendViaBeacon()))return;var I=[],J=[];r=C(I,J,false,r);if(I.length<=0)return;I[0].send_method="beacon";var K=new Blob([h.addRequestAuthData(h.prepForTransit(I))],{type:"application/x-www-form-urlencoded"}),L=navigator.sendBeacon(c("BanzaiAdapter").adapter.endpoint,K);if(!L){var M;J.forEach(function(N){r.push(N)});r.push(w(k,(M={},M[l]=[1],M),Date.now()))}}function C(I,J,K,L){var M={};return L.filter(function(N){var O=N.__meta;if(O.status>=o||!u(N))return false;if(O.status>=n)return true;var P=O.pageID+O.userID,Q=M[P];if(!Q){Q={user:O.userID,page_id:O.pageID,posts:[]};M[P]=Q;I.push(Q)}O.status=n;Q.posts.push(N);J.push(N);return K&&O.retry})}var D,E,F=false;function G(){if(!F){F=true;E=c("WebStorage").getLocalStorage()}return E}function H(){if(!D)if(!i)D={store:function I(){var J=G();if(!J||r.length<=0)return;var K=r.map(function(L){return[L[0],L[1],L[2],L[3]||0,L.__meta]});r=[];J.setItem(j+c("pageID")+"."+Date.now(),c("FBJSON").stringify(K))},restore:function I(){var J=G();if(!J)return;var K=c("WebStorageMutex");new K("banzai").lock(function(L){var M=[];for(var N=0;N<J.length;N++){var O=J.key(N);if(O.indexOf(j)===0&&O.indexOf("bz:__")!==0)M.push(O)}M.forEach(function(O){var P=J.getItem(O);J.removeItem(O);if(!P)return;var Q=c("FBJSON").parse(P,f.id);Q.forEach(function(R){if(!R)return;var S=R.__meta=R.pop(),T=u(R);if(!T)return;var U=c("CurrentUser").getID();if(S.userID===U||U==="0"){S.status=m;r.push(R)}})});L.unlock()})}};else D={store:c("emptyFunction"),restore:c("emptyFunction")}}c("BanzaiAdapter").SEND="Banzai:SEND";c("BanzaiAdapter").OK="Banzai:OK";c("BanzaiAdapter").ERROR="Banzai:ERROR";c("BanzaiAdapter").SHUTDOWN="Banzai:SHUTDOWN";c("BanzaiAdapter").VITAL_WAIT=1e3;c("BanzaiAdapter").BASIC_WAIT=6e4;c("BanzaiAdapter").EXPIRY=30*6e4;c("BanzaiAdapter").VITAL={delay:h.config.MIN_WAIT||c("BanzaiAdapter").VITAL_WAIT};c("BanzaiAdapter").BASIC={delay:h.config.MAX_WAIT||c("BanzaiAdapter").BASIC_WAIT};c("BanzaiAdapter").isEnabled=function(I){return h.config.gks&&h.config.gks[I]};c("BanzaiAdapter").post=function(I,J,K){if(!I)c("ErrorUtils").reportError(new Error("Banzai.post called without specifying a route"));K=K||{};var L=K.retry;if(h.config.disabled)return;if(!c("ExecutionEnvironment").canUseDOM)return;var M=h.config.blacklist;if(M)if(M.indexOf)if(typeof M.indexOf=="function")if(M.indexOf(I)!=-1)return;if(i&&c("lowerFacebookDomain").isValidDocumentDomain()){var N=void 0;try{N=b.top.require("Banzai")}catch(O){N=null}if(N){N.post.apply(N,arguments);return}}var P=w(I,J,Date.now(),L);if(K.callback)P.__meta.callback=K.callback;var Q=K.delay;if(Q==null)Q=c("BanzaiAdapter").BASIC_WAIT;if(c("BanzaiServiceWorker").isEnabled()){var R=[{user:c("CurrentUser").getID(),page_id:c("pageID"),posts:[P],trigger:I}];c("BanzaiServiceWorker").send(R,K.signal,Q,L);return}if(K.signal){P.__meta.status=n;var S=[{user:c("CurrentUser").getID(),page_id:c("pageID"),posts:[P],trigger:I}];h.send(S,function(){P.__meta.status=o;if(P.__meta.callback)P.__meta.callback()},function(T){v(P,T)},true);if(!L)return}r.push(P);if(y(Q)||!s)s=I};c("BanzaiAdapter").registerToSendWithBeacon=function(I,J,K,L){if(!(navigator&&navigator.sendBeacon&&h.isOkToSendViaBeacon()))return false;if(!I){c("ErrorUtils").reportError(new Error("Banzai.registerToSendWithBeacon called without specifying a route"));return false}t.push({cb:J,route:I,onSuccess:K,onFailure:L});return true};c("BanzaiAdapter").flush=function(I,J){c("SetIdleTimeoutAcrossTransitions").clear(p);p=0;A(I,J)};c("BanzaiAdapter").subscribe=h.subscribe;c("BanzaiAdapter").canUseNavigatorBeacon=function(){return navigator&&navigator.sendBeacon&&h.isOkToSendViaBeacon()};c("BanzaiAdapter")._schedule=y;c("BanzaiAdapter")._store=function(I){H();c("ErrorUtils").applyWithGuard(D.store,D)};c("BanzaiAdapter")._restore=function(I){H();c("ErrorUtils").applyWithGuard(D.restore,D);y(h.config.RESTORE_WAIT||c("BanzaiAdapter").VITAL_WAIT)};c("BanzaiAdapter")._unload=function(){c("BanzaiStreamPayloads").unload(c("BanzaiAdapter").post);if(c("BanzaiServiceWorker").isEnabled())c("BanzaiServiceWorker").sync();if(navigator&&navigator.sendBeacon&&h.isOkToSendViaBeacon())x();h.cleanup();h.inform(c("BanzaiAdapter").SHUTDOWN);if(c("BanzaiAdapter").isEnabled("beacon_hailmary")&&r.length>0)B();if(r.length>0){H();c("ErrorUtils").applyWithGuard(D.store,D)}};c("BanzaiAdapter")._testState=function(){return{postBuffer:r,triggerRoute:s}};(c("BanzaiAdapter")._initialize=function(){if(c("ExecutionEnvironment").canUseDOM){if(c("BanzaiAdapter").isEnabled("beacon_hailmary")&&c("Visibility").isSupported())c("Visibility").addListener(c("Visibility").HIDDEN,function(){if(r.length>0)B();if(r.length>0){H();c("ErrorUtils").applyWithGuard(D.store,D)}});else h.setHooks();h.setUnloadHook();c("NavigationMetrics").addListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(I,J){if(J.pageType!=="normal")return;c("BanzaiAdapter")._restore();c("NavigationMetrics").removeCurrentListener()})}})();f.exports=c("BanzaiAdapter")}),18);
__d("SimpleFBAuthenticatedXHRRequest",["invariant","CurrentUser","DTSG","ServerJSDefine","XHRRequest","isFacebookURI"],(function a(b,c,d,e,f,g,h){var i,j,k=1;i=babelHelpers.inherits(l,c("XHRRequest"));j=i&&i.prototype;function l(m,n){"use strict";j.constructor.call(this,m);var o={__dyn:c("ServerJSDefine").getLoadedModuleHash(),__req:(k++).toString(36),__ajax__:1,__a:1,__user:c("CurrentUser").getID()};j.setData.call(this,babelHelpers["extends"]({},n,o))}l.prototype.send=function(){"use strict";if(!c("isFacebookURI")(this.getURI()))return j.send.call(this);if(c("DTSG").getCachedToken){var m=c("DTSG").getCachedToken();if(m)return this.sendOnDTSGToken(m);else{c("DTSG").getToken().done(function(m){return this.sendOnDTSGToken(m)}.bind(this));return this}}else this.sendOnDTSGToken(c("DTSG").getToken())};l.prototype.sendOnDTSGToken=function(m){"use strict";if(m)j.setData.call(this,babelHelpers["extends"]({},this.getData(),{fb_dtsg:m}));return j.send.call(this)};l.prototype.setData=function(m){"use strict";h(0)};l.parseResponse=function(m){"use strict";return JSON.parse(m.substr(9))};l.getPayload=function(m){"use strict";var n=l.parseResponse(m).payload;return n.payload?n.payload:n};f.exports=l}),null);
__d("XControllerURIBuilder",["invariant","URI"],(function a(b,c,d,e,f,g,h){function i(j,k){"use strict";this.$XControllerURIBuilder1=j;this.$XControllerURIBuilder2=k;this.$XControllerURIBuilder3={}}i.prototype.setInt=function(j,k){"use strict";return this.__setParam(j,"Int",k)};i.prototype.setFBID=function(j,k){"use strict";return this.__setParam(j,"FBID",k)};i.prototype.setFloat=function(j,k){"use strict";return this.__setParam(j,"Float",k)};i.prototype.setString=function(j,k){"use strict";return this.__setParam(j,"String",k)};i.prototype.setExists=function(j,k){"use strict";if(k===false)k=undefined;return this.__setParam(j,"Exists",k)};i.prototype.setBool=function(j,k){"use strict";return this.__setParam(j,"Bool",k)};i.prototype.setEnum=function(j,k){"use strict";return this.__setParam(j,"Enum",k)};i.prototype.setIntVector=function(j,k){"use strict";return this.__setParam(j,"IntVector",k)};i.prototype.setIntSet=function(j,k){"use strict";return this.__setParam(j,"IntSet",k.join(","))};i.prototype.setFloatVector=function(j,k){"use strict";return this.__setParam(j,"FloatVector",k)};i.prototype.setFloatSet=function(j,k){"use strict";return this.__setParam(j,"FloatSet",k.join(","))};i.prototype.setStringVector=function(j,k){"use strict";return this.__setParam(j,"StringVector",k)};i.prototype.setStringKeyset=function(j,k){"use strict";return this.__setParam(j,"StringKeyset",k)};i.prototype.setStringSet=function(j,k){"use strict";return this.__setParam(j,"StringSet",k)};i.prototype.setFBIDVector=function(j,k){"use strict";return this.__setParam(j,"FBIDVector",k)};i.prototype.setFBIDSet=function(j,k){"use strict";return this.__setParam(j,"FBIDSet",k)};i.prototype.setFBIDKeyset=function(j,k){"use strict";return this.__setParam(j,"FBIDKeyset",k)};i.prototype.setEnumVector=function(j,k){"use strict";return this.__setParam(j,"EnumVector",k)};i.prototype.setEnumSet=function(j,k){"use strict";return this.__setParam(j,"EnumSet",k)};i.prototype.setEnumKeyset=function(j,k){"use strict";return this.__setParam(j,"EnumKeyset",k)};i.prototype.setIntToIntMap=function(j,k){"use strict";return this.__setParam(j,"IntToIntMap",k)};i.prototype.setIntToFloatMap=function(j,k){"use strict";return this.__setParam(j,"IntToFloatMap",k)};i.prototype.setIntToStringMap=function(j,k){"use strict";return this.__setParam(j,"IntToStringMap",k)};i.prototype.setIntToBoolMap=function(j,k){"use strict";return this.__setParam(j,"IntToBoolMap",k)};i.prototype.setStringToIntMap=function(j,k){"use strict";return this.__setParam(j,"StringToIntMap",k)};i.prototype.setStringToFloatMap=function(j,k){"use strict";return this.__setParam(j,"StringToFloatMap",k)};i.prototype.setStringToStringMap=function(j,k){"use strict";return this.__setParam(j,"StringToStringMap",k)};i.prototype.setStringToNullableStringMap=function(j,k){"use strict";return this.__setParam(j,"StringToNullableStringMap",k)};i.prototype.setStringToBoolMap=function(j,k){"use strict";return this.__setParam(j,"StringToBoolMap",k)};i.prototype.setEnumToStringVectorMap=function(j,k){"use strict";return this.__setParam(j,"EnumToStringVectorMap",k)};i.prototype.setHackType=function(j,k){"use strict";return this.__setParam(j,"HackType",k)};i.prototype.setTypeAssert=function(j,k){"use strict";return this.__setParam(j,"TypeAssert",k)};i.prototype.__validateRequiredParamsExistence=function(){"use strict";for(var j in this.$XControllerURIBuilder2)!this.$XControllerURIBuilder2[j].required||Object.prototype.hasOwnProperty.call(this.$XControllerURIBuilder3,j)||h(0)};i.prototype.setParams=function(j){"use strict";for(var k in j){this.__assertParamExists(k);var l=this.$XControllerURIBuilder2[k].type;this.__setParam(k,l,j[k])}return this};i.prototype.__assertParamExists=function(j){"use strict";j in this.$XControllerURIBuilder2||h(0)};i.prototype.__setParam=function(j,k,l){"use strict";this.__assertParamExists(j);var m=this.$XControllerURIBuilder2[j].type;m===k||h(0);this.__setParamInt(j,l);return this};i.prototype.__setParamInt=function(j,k){"use strict";this.$XControllerURIBuilder3[j]=k};i.prototype.getURI=function(){"use strict";this.__validateRequiredParamsExistence();var j={},k="",l=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,m=this.$XControllerURIBuilder1.split("/"),n=false;for(var o=0;o<m.length;o++){var p=m[o];if(p==="")continue;var q=l.exec(p);if(!q)k+="/"+p;else{var r=q[2]==="?",s=q[4],t=this.$XControllerURIBuilder2[s];t||h(0);if(r&&n)continue;if(this.$XControllerURIBuilder3[s]==null&&r){n=true;continue}this.$XControllerURIBuilder3[s]!=null||h(0);var u=q[1]?q[1]:"",v=q[5]?q[5]:"";k+="/"+u+this.$XControllerURIBuilder3[s]+v;j[s]=true}}if(this.$XControllerURIBuilder1.slice(-1)==="/")k+="/";if(k==="")k="/";var w=new(c("URI"))(k);for(var x in this.$XControllerURIBuilder3){var y=this.$XControllerURIBuilder3[x];if(!j[x]&&y!=null){var z=this.$XControllerURIBuilder2[x];w.addQueryData(x,z&&z.type==="Exists"?null:y)}}return w};i.create=function(j,k){return i.bind(null,j,k)};f.exports=i}),18);
__d("XRequest",["invariant"],(function a(b,c,d,e,f,g,h){var i=function i(k,l,m){var n,o;switch(k){case"Bool":o=l&&l!=="false"&&l!=="0"||false;break;case"Int":o=l.toString();/-?\d+/.test(o)||h(0);break;case"Float":o=parseFloat(l,10);!isNaN(o)||h(0);break;case"FBID":o=l.toString();for(var p=0;p<o.length;++p){var q=o.charCodeAt(p);48<=q&&q<=57||h(0)}break;case"String":o=l.toString();break;case"Enum":if(m===0)o=i("Int",l,null);else if(m===1)o=i("String",l,null);else if(m===2)o=l;else h(0);break;default:var r,s,t,u;if(r=/^Nullable(\w+)$/.exec(k))if(l===null)o=null;else o=i(r[1],l,m);else if(s=/^(\w+)Vector$/.exec(k)){if(!Array.isArray(l)){o=l.toString();o=o===""?[]:o.split(",")}else o=l;var v=s[1];typeof v==="string"||h(0);o=o.map(function(w){return i(v,w,m&&m.member)})}else if(t=/^(\w+)(Set|Keyset)$/.exec(k)){if(!Array.isArray(l)){o=l.toString();o=o===""?[]:o.split(",")}else o=l;o=o.reduce(function(w,x){w[x]=x;return w},{});v=t[1];typeof v==="string"||h(0);o=Object.keys(o).map(function(w){return i(v,o[w],m&&m.member)})}else if(u=/^(\w+)To(\w+)Map$/.exec(k))(function(){o={};var w=u[1],x=u[2];typeof w==="string"&&typeof x==="string"||h(0);Object.keys(l).forEach(function(y){o[i(w,y,m&&m.key)]=i(x,l[y],m&&m.value)})})();else h(0)}return o};function j(k,l,m){"use strict";this.$XRequest1=l;this.$XRequest2=babelHelpers["extends"]({},m.getQueryData());var n=k.split("/").filter(function(u){return u}),o=m.getPath().split("/").filter(function(u){return u});for(var p=0;p<n.length;++p){var q=/^\{(\?)?(\*)?(\w+)\}$/.exec(n[p]);if(!q){n[p]===o[p]||h(0);continue}var r=!!q[1],s=!!q[2];!s||p===n.length-1||h(0);var t=q[3];Object.prototype.hasOwnProperty.call(this.$XRequest1,t)||h(0);if(this.$XRequest1[t].required)!r||h(0);else r||h(0);if(o[p])this.$XRequest2[t]=s?o.slice(p).join("/"):o[p]}Object.keys(this.$XRequest1).forEach(function(t){!this.$XRequest1[t].required||Object.prototype.hasOwnProperty.call(this.$XRequest2,t)||h(0)},this)}j.prototype.getExists=function(k){"use strict";return this.$XRequest2[k]!==undefined};j.prototype.getBool=function(k){"use strict";return this.$XRequest3(k,"Bool")};j.prototype.getInt=function(k){"use strict";return this.$XRequest3(k,"Int")};j.prototype.getFloat=function(k){"use strict";return this.$XRequest3(k,"Float")};j.prototype.getFBID=function(k){"use strict";return this.$XRequest3(k,"FBID")};j.prototype.getString=function(k){"use strict";return this.$XRequest3(k,"String")};j.prototype.getEnum=function(k){"use strict";return this.$XRequest3(k,"Enum")};j.prototype.getOptionalInt=function(k){"use strict";return this.$XRequest4(k,"Int")};j.prototype.getOptionalFloat=function(k){"use strict";return this.$XRequest4(k,"Float")};j.prototype.getOptionalFBID=function(k){"use strict";return this.$XRequest4(k,"FBID")};j.prototype.getOptionalString=function(k){"use strict";return this.$XRequest4(k,"String")};j.prototype.getOptionalEnum=function(k){"use strict";return this.$XRequest4(k,"Enum")};j.prototype.getIntVector=function(k){"use strict";return this.$XRequest3(k,"IntVector")};j.prototype.getFloatVector=function(k){"use strict";return this.$XRequest3(k,"FloatVector")};j.prototype.getFBIDVector=function(k){"use strict";return this.$XRequest3(k,"FBIDVector")};j.prototype.getStringVector=function(k){"use strict";return this.$XRequest3(k,"StringVector")};j.prototype.getEnumVector=function(k){"use strict";return this.$XRequest3(k,"EnumVector")};j.prototype.getOptionalIntVector=function(k){"use strict";return this.$XRequest4(k,"IntVector")};j.prototype.getOptionalFloatVector=function(k){"use strict";return this.$XRequest4(k,"FloatVector")};j.prototype.getOptionalFBIDVector=function(k){"use strict";return this.$XRequest4(k,"FBIDVector")};j.prototype.getOptionalStringVector=function(k){"use strict";return this.$XRequest4(k,"StringVector")};j.prototype.getOptionalEnumVector=function(k){"use strict";return this.$XRequest4(k,"EnumVector")};j.prototype.getIntSet=function(k){"use strict";return this.$XRequest3(k,"IntSet")};j.prototype.getFBIDSet=function(k){"use strict";return this.$XRequest3(k,"FBIDSet")};j.prototype.getFBIDKeyset=function(k){"use strict";return this.$XRequest3(k,"FBIDKeyset")};j.prototype.getStringSet=function(k){"use strict";return this.$XRequest3(k,"StringSet")};j.prototype.getEnumKeyset=function(k){"use strict";return this.$XRequest3(k,"EnumKeyset")};j.prototype.getOptionalIntSet=function(k){"use strict";return this.$XRequest4(k,"IntSet")};j.prototype.getOptionalFBIDSet=function(k){"use strict";return this.$XRequest4(k,"FBIDSet")};j.prototype.getOptionalFBIDKeyset=function(k){"use strict";return this.$XRequest4(k,"FBIDKeyset")};j.prototype.getOptionalStringSet=function(k){"use strict";return this.$XRequest4(k,"StringSet")};j.prototype.getEnumToBoolMap=function(k){"use strict";return this.$XRequest3(k,"EnumToBoolMap")};j.prototype.getEnumToEnumMap=function(k){"use strict";return this.$XRequest3(k,"EnumToEnumMap")};j.prototype.getEnumToFloatMap=function(k){"use strict";return this.$XRequest3(k,"EnumToFloatMap")};j.prototype.getEnumToIntMap=function(k){"use strict";return this.$XRequest3(k,"EnumToIntMap")};j.prototype.getEnumToStringMap=function(k){"use strict";return this.$XRequest3(k,"EnumToStringMap")};j.prototype.getIntToBoolMap=function(k){"use strict";return this.$XRequest3(k,"IntToBoolMap")};j.prototype.getIntToEnumMap=function(k){"use strict";return this.$XRequest3(k,"IntToEnumMap")};j.prototype.getIntToFloatMap=function(k){"use strict";return this.$XRequest3(k,"IntToFloatMap")};j.prototype.getIntToIntMap=function(k){"use strict";return this.$XRequest3(k,"IntToIntMap")};j.prototype.getIntToStringMap=function(k){"use strict";return this.$XRequest3(k,"IntToStringMap")};j.prototype.getStringToBoolMap=function(k){"use strict";return this.$XRequest3(k,"StringToBoolMap")};j.prototype.getStringToEnumMap=function(k){"use strict";return this.$XRequest3(k,"StringToEnumMap")};j.prototype.getStringToFloatMap=function(k){"use strict";return this.$XRequest3(k,"StringToFloatMap")};j.prototype.getStringToIntMap=function(k){"use strict";return this.$XRequest3(k,"StringToIntMap")};j.prototype.getStringToStringMap=function(k){"use strict";return this.$XRequest3(k,"StringToStringMap")};j.prototype.getOptionalEnumToBoolMap=function(k){"use strict";return this.$XRequest4(k,"EnumToBoolMap")};j.prototype.getOptionalEnumToEnumMap=function(k){"use strict";return this.$XRequest4(k,"EnumToEnumMap")};j.prototype.getOptionalEnumToFloatMap=function(k){"use strict";return this.$XRequest4(k,"EnumToFloatMap")};j.prototype.getOptionalEnumToIntMap=function(k){"use strict";return this.$XRequest4(k,"EnumToIntMap")};j.prototype.getOptionalEnumToStringMap=function(k){"use strict";return this.$XRequest4(k,"EnumToStringMap")};j.prototype.getOptionalIntToBoolMap=function(k){"use strict";return this.$XRequest4(k,"IntToBoolMap")};j.prototype.getOptionalIntToEnumMap=function(k){"use strict";return this.$XRequest4(k,"IntToEnumMap")};j.prototype.getOptionalIntToFloatMap=function(k){"use strict";return this.$XRequest4(k,"IntToFloatMap")};j.prototype.getOptionalIntToIntMap=function(k){"use strict";return this.$XRequest4(k,"IntToIntMap")};j.prototype.getOptionalIntToStringMap=function(k){"use strict";return this.$XRequest4(k,"IntToStringMap")};j.prototype.getOptionalStringToBoolMap=function(k){"use strict";return this.$XRequest4(k,"StringToBoolMap")};j.prototype.getOptionalStringToEnumMap=function(k){"use strict";return this.$XRequest4(k,"StringToEnumMap")};j.prototype.getOptionalStringToFloatMap=function(k){"use strict";return this.$XRequest4(k,"StringToFloatMap")};j.prototype.getOptionalStringToIntMap=function(k){"use strict";return this.$XRequest4(k,"StringToIntMap")};j.prototype.getOptionalStringToStringMap=function(k){"use strict";return this.$XRequest4(k,"StringToStringMap")};j.prototype.getEnumToNullableEnumMap=function(k){"use strict";return this.$XRequest3(k,"EnumToNullableEnumMap")};j.prototype.getEnumToNullableFloatMap=function(k){"use strict";return this.$XRequest3(k,"EnumToNullableFloatMap")};j.prototype.getEnumToNullableIntMap=function(k){"use strict";return this.$XRequest3(k,"EnumToNullableIntMap")};j.prototype.getEnumToNullableStringMap=function(k){"use strict";return this.$XRequest3(k,"EnumToNullableStringMap")};j.prototype.getIntToNullableEnumMap=function(k){"use strict";return this.$XRequest3(k,"IntToNullableEnumMap")};j.prototype.getIntToNullableFloatMap=function(k){"use strict";return this.$XRequest3(k,"IntToNullableFloatMap")};j.prototype.getIntToNullableIntMap=function(k){"use strict";return this.$XRequest3(k,"IntToNullableIntMap")};j.prototype.getIntToNullableStringMap=function(k){"use strict";return this.$XRequest3(k,"IntToNullableStringMap")};j.prototype.getStringToNullableEnumMap=function(k){"use strict";return this.$XRequest3(k,"StringToNullableEnumMap")};j.prototype.getStringToNullableFloatMap=function(k){"use strict";return this.$XRequest3(k,"StringToNullableFloatMap")};j.prototype.getStringToNullableIntMap=function(k){"use strict";return this.$XRequest3(k,"StringToNullableIntMap")};j.prototype.getStringToNullableStringMap=function(k){"use strict";return this.$XRequest3(k,"StringToNullableStringMap")};j.prototype.getOptionalEnumToNullableEnumMap=function(k){"use strict";return this.$XRequest4(k,"EnumToNullableEnumMap")};j.prototype.getOptionalEnumToNullableFloatMap=function(k){"use strict";return this.$XRequest4(k,"EnumToNullableFloatMap")};j.prototype.getOptionalEnumToNullableIntMap=function(k){"use strict";return this.$XRequest4(k,"EnumToNullableIntMap")};j.prototype.getOptionalEnumToNullableStringMap=function(k){"use strict";return this.$XRequest4(k,"EnumToNullableStringMap")};j.prototype.getOptionalIntToNullableEnumMap=function(k){"use strict";return this.$XRequest4(k,"IntToNullableEnumMap")};j.prototype.getOptionalIntToNullableFloatMap=function(k){"use strict";return this.$XRequest4(k,"IntToNullableFloatMap")};j.prototype.getOptionalIntToNullableIntMap=function(k){"use strict";return this.$XRequest4(k,"IntToNullableIntMap")};j.prototype.getOptionalIntToNullableStringMap=function(k){"use strict";return this.$XRequest4(k,"IntToNullableStringMap")};j.prototype.getOptionalStringToNullableEnumMap=function(k){"use strict";return this.$XRequest4(k,"StringToNullableEnumMap")};j.prototype.getOptionalStringToNullableFloatMap=function(k){"use strict";return this.$XRequest4(k,"StringToNullableFloatMap")};j.prototype.getOptionalStringToNullableIntMap=function(k){"use strict";return this.$XRequest4(k,"StringToNullableIntMap")};j.prototype.getOptionalStringToNullableStringMap=function(k){"use strict";return this.$XRequest4(k,"StringToNullableStringMap")};j.prototype.$XRequest3=function(k,l){"use strict";this.$XRequest5(k,l);var m=this.$XRequest1[k];if(!Object.prototype.hasOwnProperty.call(this.$XRequest2,k)&&m.defaultValue!=null){!m.required||h(0);return i(l,m.defaultValue,m.enumType)}m.required||l==="Bool"||m.defaultValue!=null||h(0);return i(l,this.$XRequest2[k],m.enumType)};j.prototype.$XRequest4=function(k,l){"use strict";this.$XRequest5(k,l);var m=this.$XRequest1[k];!m.required||h(0);!m.defaultValue||h(0);if(Object.prototype.hasOwnProperty.call(this.$XRequest2,k))return i(l,this.$XRequest2[k],m.enumType);return null};j.prototype.$XRequest5=function(k,l){"use strict";Object.prototype.hasOwnProperty.call(this.$XRequest1,k)||h(0);this.$XRequest1[k].type===l||h(0)};f.exports=j}),null);
__d("XController",["XControllerURIBuilder","XRequest"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";this.$XController1=i;this.$XController2=j}h.prototype.getURIBuilder=function(i){"use strict";var j=new(c("XControllerURIBuilder"))(this.$XController1,this.$XController2);if(i){var k=this.getRequest(i);Object.keys(this.$XController2).forEach(function(l){var m=this.$XController2[l],n="";if(!m.required&&!Object.prototype.hasOwnProperty.call(m,"defaultValue"))n="Optional";var o="get"+n+m.type,p=k[o](l);if(p==null||Object.prototype.hasOwnProperty.call(m,"defaultValue")&&p===m.defaultValue)return;var q="set"+m.type;j[q](l,p)},this)}return j};h.prototype.getRequest=function(i){"use strict";return new(c("XRequest"))(this.$XController1,this.$XController2,i)};h.create=function(i,j){"use strict";return new h(i,j)};f.exports=h}),18);
__d("XFantailLogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/fantail/",{service:{type:"String",required:true}})}),null);
__d("FantailLogQueue",["ChannelClientID","CircularBuffer","FantailConfig","PHPQuerySerializer","SimpleFBAuthenticatedXHRRequest","XFantailLogController","destroyOnUnload","setIntervalAcrossTransitions","sprintf"],(function a(b,c,d,e,f,g){var h={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};function i(j){"use strict";this.$FantailLogQueue2=j;this.$FantailLogQueue3=new(c("CircularBuffer"))(200);c("setIntervalAcrossTransitions")(this.$FantailLogQueue4.bind(this),30*1e3);c("destroyOnUnload")(this.$FantailLogQueue4.bind(this))}i.get=function(j){"use strict";i.$FantailLogQueue1=i.$FantailLogQueue1||{};i.$FantailLogQueue1[j]=i.$FantailLogQueue1[j]||new i(j);return i.$FantailLogQueue1[j]};i.prototype.debug=function(j){"use strict";for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.DEBUG,j].concat(l))};i.prototype.info=function(j){"use strict";for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.INFO,j].concat(l))};i.prototype.warn=function(j){"use strict";for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.WARN,j].concat(l))};i.prototype.error=function(j){"use strict";for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.ERROR,j].concat(l))};i.prototype.$FantailLogQueue5=function(j,k){"use strict";for(var l=arguments.length,m=Array(l>2?l-2:0),n=2;n<l;n++)m[n-2]=arguments[n];var o=c("sprintf").apply(undefined,[k].concat(m));this.$FantailLogQueue3.write({log_time:Date.now(),log:o,severity:j,device_id:c("ChannelClientID").getID()})};i.prototype.$FantailLogQueue4=function(){"use strict";var j=this.$FantailLogQueue3.read();if(j.length>0){var k={log_time:[],log:[],severity:[],device_id:[]};j.forEach(function(m){k.log_time.push(m.log_time);k.log.push(m.log);k.severity.push(m.severity);k.device_id.push(m.device_id)});this.$FantailLogQueue3.clear();var l=c("XFantailLogController").getURIBuilder().setString("service",this.$FantailLogQueue2).getURI();new(c("SimpleFBAuthenticatedXHRRequest"))(l,k).setMethod("POST").setDataSerializer(c("PHPQuerySerializer").serialize).setRequestHeader("Content-Type","application/x-www-form-urlencoded").send()}};f.exports=i}),null);
__d("forEachObject",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.prototype.hasOwnProperty;function i(j,k,l){for(var m in j){var n=m;if(h.call(j,n))k.call(l,j[n],n,j)}}f.exports=i}),null);
__d("NavigationMetricsEnumJS",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"})}),null);
__d("ResourceTimingMetricsEnumJS",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({START_TIME:"startTime",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",SECURE_CONNECTION_START:"secureConnectionStart",CONNECT_END:"connectEnd",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd"})}),null);
__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],(function a(b,c,d,e,f,g){function h(j,k){var l={};c("forEachObject")(c("NavigationMetricsEnumJS"),function(m){var n=k[m];if(n)l[m]=n+j});return l}var i={getAsyncRequestTimings:function j(k){if(!k||!c("performance").timing||!c("performance").getEntriesByName)return undefined;var l=c("performance").getEntriesByName(k);if(l.length===0)return undefined;return h(c("performance").timing.navigationStart,l[0])},getNavTimings:function j(){if(!c("performance").timing)return undefined;return h(0,c("performance").timing)}};f.exports=i}),null);
__d("ResourceTimingBootloaderHelper",["Bootloader","ErrorUtils","ImageTimingHelper","Map","ResourceTimingMetricsEnumJS","ResourceTimingsStore","ResourceTypes","Set","URI","forEachObject","isEmpty","performance"],(function aa(ba,a,ca,da,b,ea){var c=500,d=[],e={},f={},g={},h=[".mp4",".m4v",".mpd","m4a"],i=new(a("Set"))(["bootload","js_exec","start_bootload","tag_bootload"]);function j(s){for(var t=h,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;if(s.endsWith(x))return true}return false}function k(s){var t=new(a("Map"))();a("ResourceTimingsStore").getMapFor(s).forEach(function(u){if(u.requestSent!=null){var v=t.get(u.uri);if(v!=null)v.push(u);else t.set(u.uri,[u])}});t.forEach(function(u){return u.sort(function(v,w){return v.requestSent-w.requestSent})});return t}function l(s,t,u,v){var w=s.get(t);if(w==null){var x=t.indexOf("?");if(x!==-1){var y=t.substring(0,x);w=s.get(y)}}if(w!=null)for(var z=0;z<w.length;z++){var A=w[z],B=A.requestSent,C=A.responseReceived;if((u==null||B!=null&&B<=u)&&(v==null||C!=null&&C>=v))return w.splice(z,1)[0]}return null}function m(f,s,t,u,v,w,x){if(!a("performance").timing||!a("performance").getEntriesByType)return null;var y={},z=a("performance").timing.navigationStart;if(t)y=a("ImageTimingHelper").getImageTimings(u).sort(function(Z,$){return Z.ts-$.ts}).reduce(function(Z,$){if(Z[$.uri])return Z;Z[$.uri]=$.pagelet;return Z},{});var A=Array.from(a("performance").getEntriesByType("resource")),B=A.filter(function(I){return I.duration>=0&&I.startTime!=null&&I.startTime+z>s&&(v==null||I.responseEnd==null||I.responseEnd+z<v)});B.sort(function(Z,$){return Z.startTime-$.startTime});var C=B.length,D=0,E=0,F=0,G=0,fa=0,ga=k(a("ResourceTypes").XHR),ha=k(a("ResourceTypes").CSS),ia=k(a("ResourceTypes").JS);for(var H=0;H<B.length;H++){var I=B[H],J="",K="",L="",M=void 0,ja=I.initiatorType;switch(ja){case"css":case"link":case"script":var N=a("ResourceTimingsStore").parseMakeHasteURL(I.name);if(!N)continue;var ka=N[0],O=N[1];if((O==="css"||O==="js")&&x){var la=O==="css"?ha:ia;M=l(la,I.name,I.startTime+z,I.responseEnd+z);if(M!=null){K=O;J=M.uid;break}}if(O==="css"||O==="js"){K=O;var ma=g[I.name]||F++;J=ma+"_"+ka}else{var P=p(I.name);L=P[0];K=P[1];J=E+++"_"+L}break;case"img":J=E+++"_"+n(I.name);K="img";break;case"iframe":J=G+++"_"+n(I.name)+o(I.name);K="iframe";break;case"xmlhttprequest":if(w){var na=n(I.name),Q=o(I.name);if(j(Q)){J=fa+++"_"+na+Q;K="video";break}else{M=l(ga,I.name,I.startTime+z,I.responseEnd+z);if(M!=null){K=a("ResourceTypes").XHR;J=M.uid;break}}}default:continue}var R={},S=Object.keys(a("ResourceTimingMetricsEnumJS"));for(var T=0;T<S.length;T++){var U=a("ResourceTimingMetricsEnumJS")[S[T]],V=I[U];if(V)R[U]=V+a("performance").timing.navigationStart}if(M!=null){var W=M,X=W.requestSent,Y=W.responseReceived;if(s!=null&&X!=null&&X<s||v!=null&&Y!=null&&Y>v)continue;R.requestSent=X;R.responseReceived=Y}R.type=K;R.desc=J;if(K=="img"&&Object.prototype.hasOwnProperty.call(y,I.name))R.pagelet=y[I.name];R.transferSize=I.transferSize;R.encodedBodySize=I.encodedBodySize;if(f[I.name]==undefined)f[I.name]=[];D++;f[I.name].push(R)}if(x)return{numValidEntries:C,numSuccessfulMetrics:D};return null}function n(s){var t=new(a("URI"))(s).getDomain();return t}function o(s){var t=new(a("URI"))(s).getPath();return t}function p(s){return[n(s),"img"]}function q(s){var t=Object.keys(s).filter(function(v){return v.startsWith("start_bootload/")}).sort(function(v,w){return s[v]-s[w]}).map(function(v){return v.substring(v.indexOf("/")+1)});t.forEach(function(v){return i.forEach(function(w){var x=w+"/"+v;if(s[x]!=null)e[x]=s[x]})});d=d.concat(t);if(d.length>c){var u=d.splice(0,d.length-c);u.forEach(function(v){return i.forEach(function(w){if(e[w+"/"+v])delete e[w+"/"+v]})})}}var r={addPastBootloaderMetricsToResourceTimings:function s(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],g=a("Bootloader").getURLToHashMap();a("forEachObject")(t,function(v,w){var x=g[w];if(!x)return;var y=new(a("Map"))();y.set("bootloader_hash",x);i.forEach(function(z){var A=z+"/"+x,B=u[A]||e[A];if(B!=null)y.set(z,B)});if(y.size>0)v.forEach(function(z){if(z.requestSent||z.responseReceived)return;y.forEach(function(A,B){return z[B]=A})})})},mergeBootloaderMetricsAndResourceTimings:function s(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],v=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(a("isEmpty")(g))g=a("Bootloader").getURLToHashMap();var w=new(a("Map"))();a("forEachObject")(g,function(y,z){w.set(y,z)});var x=[];a("forEachObject")(u,function(f,y){var z=y.indexOf("/");if(z===-1)return;var A=y.substring(0,z);if(!i.has(A))return;x.push(y);var B=y.substring(z+1),C=w.get(B);if(!C){C=B;B=g[C];if(!B)return}if(C.startsWith("data:"))C="inlined resource: "+B;if(t[C]==null)t[C]=[{}];t[C].forEach(function(D){D.bootloader_hash=B;D[A]=f})});if(!v){q(u);x.forEach(function(y){return delete u[y]})}return t},getLastTTIAndE2EImageResponseEnds:function s(t,u,v){var w={TTI:t,E2E:u};if(!a("performance").timing)return w;var x=v.filter(function(A){return A.ts<=t}).map(function(A){return A.uri}).reduce(function(A,z){A[z]=true;return A},{}),y=v.map(function(A){return A.uri}).reduce(function(A,z){A[z]=true;return A},{});for(var z in f)f[z].forEach(function(A){if(A.type==="img"){if(x[z])w.TTI=Math.max(w.TTI,A.responseEnd);if(y[z])w.E2E=Math.max(w.E2E,A.responseEnd)}});return w},getMetrics:function s(t,u,v,w,x,y){f={};if(a("isEmpty")(g))g=a("Bootloader").getURLToHashMap();var z=m(f,t,u,v,w,x,y);return{data:f,diagnostics:z}}};b.exports=r}),null);
__d("PerfXFlusher",["invariant","Banzai"],(function a(b,c,d,e,f,g,h){var i="perfx_custom_logger_endpoint",j=["perfx_page","perfx_page_type","lid"];function k(m){j.forEach(function(n){return h(n in m,'PerfXFlusher: Field "%s" missing in the PerfX payload',n)})}var l={flush:function m(n){k(n);c("Banzai").post(i,n,{signal:true})},registerToSendWithBeacon:function m(n){c("Banzai").registerToSendWithBeacon(i,n)}};f.exports=l}),null);
__d("DataAttributeUtils",["DataStore","Parent"],(function a(b,c,d,e,f,g){var h=[],i={LEGACY_CLICK_TRACKING_ATTRIBUTE:"data-ft",CLICK_TRACKING_DATASTORE_KEY:"data-ft",ENABLE_STORE_CLICK_TRACKING:"data-fte",IMPRESSION_TRACKING_CONFIG_ATTRIBUTE:"data-xt-vimp",IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY:"data-xt-vimp",REMOVE_LEGACY_TRACKING:"data-ftr",getDataAttribute:function l(m,n){if(j[n])return j[n](m);return m.getAttribute(n)},setDataAttribute:function l(m,n,o){if(k[n])return k[n](m,o);return m.setAttribute(n,o)},getDataFt:function l(m){if(m.getAttribute(i.ENABLE_STORE_CLICK_TRACKING)){var n=c("DataStore").get(m,i.CLICK_TRACKING_DATASTORE_KEY);if(!n)n=i.moveClickTrackingToDataStore(m,m.getAttribute(i.REMOVE_LEGACY_TRACKING));return n}return m.getAttribute(i.LEGACY_CLICK_TRACKING_ATTRIBUTE)},setDataFt:function l(m,n){if(m.getAttribute(i.ENABLE_STORE_CLICK_TRACKING)){c("DataStore").set(m,i.CLICK_TRACKING_DATASTORE_KEY,n);return}m.setAttribute(i.LEGACY_CLICK_TRACKING_ATTRIBUTE,n)},moveXTVimp:function l(m){i.moveAttributeToDataStore(m,i.IMPRESSION_TRACKING_CONFIG_ATTRIBUTE,i.IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY);h.push(m.id)},getXTrackableElements:function l(){var m=h.map(function(p){return document.getElementById(p)}).filter(function(p){return!!p}),n=document.querySelectorAll("[data-xt-vimp]");for(var o=0;o<n.length;o++)m.push(n[o]);return m},getDataAttributeGeneric:function l(m,n,o){var p=c("DataStore").get(m,o);return p!==undefined?p:m.getAttribute(n)},moveAttributeToDataStore:function l(m,n,o){var p=m.getAttribute(n);if(p){c("DataStore").set(m,o,p);m.removeAttribute(n)}},moveClickTrackingToDataStore:function l(m,n){var o=m.getAttribute(i.LEGACY_CLICK_TRACKING_ATTRIBUTE);if(o){c("DataStore").set(m,i.CLICK_TRACKING_DATASTORE_KEY,o);if(n)m.removeAttribute(i.LEGACY_CLICK_TRACKING_ATTRIBUTE)}return o},getClickTrackingParent:function l(m){var n=c("Parent").byAttribute(m,i.LEGACY_CLICK_TRACKING_ATTRIBUTE)||c("Parent").byAttribute(m,i.ENABLE_STORE_CLICK_TRACKING);return n},getClickTrackingElements:function l(m){return m.querySelectorAll("["+i.LEGACY_CLICK_TRACKING_ATTRIBUTE+"], ["+i.ENABLE_STORE_CLICK_TRACKING+"]")},getParentByAttributeOrDataStoreKey:function l(m,n,o){while(m&&(!m.getAttribute||!m.getAttribute(n))&&c("DataStore").get(m,o)===undefined)m=m.parentNode;return m}},j={"data-ft":i.getDataFt,"data-xt-vimp":function l(m){return i.getDataAttributeGeneric(m,"data-xt-vimp","data-xt-vimp")},"data-ad":function l(m){return i.getDataAttributeGeneric(m,"data-ad","data-ad")},"data-xt":function l(m){return i.getDataAttributeGeneric(m,"data-xt","data-xt")}},k={"data-ft":i.setDataFt,"data-xt":function l(m,n){c("DataStore").set(m,"data-xt",n)}};f.exports=i}),null);
__d("pageLoadedViaSWCache",[],(function a(b,c,d,e,f,g){function h(){return self.__SW_CACHE__===1}f.exports=h}),null);
__d("PerfXLogger",["DataAttributeUtils","NavigationMetrics","NavigationTimingHelper","PerfXFlusher","Set","forEachObject","pageLoadedViaSWCache","performanceAbsoluteNow","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){var h={},i={},j=65*1e3,k=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded"],l={},m={_listenersSetUp:false,_setupListeners:function n(){if(this._listenersSetUp)return;this._subscribeToNavigationMetrics();c("PerfXFlusher").registerToSendWithBeacon(function(){var o=[];c("forEachObject")(h,function(p,q){if(!h[q].sent){var r=this.getPayload(q,"unload fired");if(r!=null)o.push(r)}}.bind(this));h={};return o}.bind(this));this._listenersSetUp=true},_init:function n(o){var p=o.lid;if(p==null)return;var q=i[p]||[];delete i[p];if(o.sw_controlled_tags){if(navigator.serviceWorker&&navigator.serviceWorker.controller)for(var r=0;r<o.sw_controlled_tags.length;r++)q.push(o.sw_controlled_tags[r]);delete o.sw_controlled_tags}h[p]=babelHelpers["extends"]({tags:new(c("Set"))(q),sent:false},o);this._registerTimeoutSendback(p);this._setupListeners()},initWithNavigationMetricsLID:function n(o,p){var q=c("NavigationMetrics").getFullPageLoadLid();if(!q)return;this._init(babelHelpers["extends"]({},p,{lid:q}));if(o&&o.always)for(var r=0;r<o.always.length;r++)m.addTag(q,o.always[r]);if(o&&o.swCache&&c("pageLoadedViaSWCache")())for(var s=0;s<o.swCache.length;s++)m.addTag(q,o.swCache[s])},init:function n(o,p){if(p!=null&&o.lid!=null)l[o.lid]=p;this._init(o)},addTag:function n(o,p){var q=h[o];if(q){q.tags.add(p);return}if(!i[o])i[o]=[];i[o].push(p)},addTagWithNavigationMetricsLID:function n(o){var p=c("NavigationMetrics").getFullPageLoadLid();if(!p)return;m.addTag(p,o)},_registerTimeoutSendback:function n(o){var p=this._getFetchStart(o),q=j;if(p!=null)q-=c("performanceAbsoluteNow")()-p;c("setTimeoutAcrossTransitions")(function(){return this._uploadPayload(o,"sendback time out")}.bind(this),q)},_subscribeToNavigationMetrics:function n(){c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.EVENT_OCCURRED,function(o,p){if(!(o in h))return;if(k.includes(p.event)&&Object.prototype.hasOwnProperty.call(p,"timestamp")&&p.timestamp!=null){h[o][p.event]=p.timestamp;if(p.visibilityState)h[o][p.event+"_page_visibility"]=p.visibilityState}});c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(o,p){var q=p.serverLID;if(!(q in h))return;k.forEach(function(event){if(Object.prototype.hasOwnProperty.call(p,event)&&p[event]!=null)h[q][event]=p[event]});this._uploadPayload(q)}.bind(this))},_getPayloadWithOffset:function n(o,p,q){var r=h[o];if(r==null)return null;var s=Object.assign({},r),t=document.querySelector('[id^="hyperfeed_story_id"]');if(t){var u=JSON.parse(c("DataAttributeUtils").getDataFt(t));if(u)s.mf_query_id=u.qid}s.tags=Array.from(r.tags);this._adjustValues(s,p);s.fetch_start=p;if(s.perfx_page_type==="normal"){var v=c("NavigationTimingHelper").getNavTimings();if(v!=null&&v.navigationStart!=null)s.nav_to_fetch=p-v.navigationStart}if(q!=null)s.sendback_reason=q;if(navigator&&navigator.hardwareConcurrency)s.num_cores=navigator.hardwareConcurrency;if(navigator&&navigator.deviceMemory)s.ram_gb=navigator.deviceMemory;if(navigator&&navigator.connection){if(typeof navigator.connection.downlink==="number")s.downlink_megabits=navigator.connection.downlink;if(typeof navigator.connection.effectiveType==="string")s.effective_connection_type=navigator.connection.effectiveType;if(typeof navigator.connection.rtt==="number")s.rtt_ms=navigator.connection.rtt}delete s.sent;return s},_uploadPayload:function n(o,p){if(h[o]!=null&&!h[o].sent){var q=this.getPayload(o,p);if(q!=null){c("PerfXFlusher").flush(q);h[o].sent=true}}},getPayload:function n(o,p){return this._getPayloadWithOffset(o,this._getFetchStart(o),p)},_getFetchStart:function n(o){if(!(o in h))return null;var p=void 0,q=h[o].perfx_page_type;if(q=="quickling")if(!(o in l))return null;else p=c("NavigationTimingHelper").getAsyncRequestTimings(l[o]);else p=c("NavigationTimingHelper").getNavTimings();if(!p||!p.fetchStart)return null;return p.fetchStart},_adjustValues:function n(o,p){k.forEach(function(q){if(Object.prototype.hasOwnProperty.call(o,q))o[q]-=p})}};f.exports=m}),null);
__d("XRelayBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/relay/bootload/",{component:{type:"String",required:true},params:{type:"String",required:true},route:{type:"String",required:true},uri:{type:"String",required:true}})}),null);