(function($){$(function(){if(document.body.dataset.mobileMode!=="yep"){var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="//apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}})})(jQuery);function _(s,lang){if(!i18n)return s;if(!s&&!!lang){this.lang=lang}else{l=lang||this.lang||"en_US";return i18n[s]?i18n[s][l]||i18n[s]["en_US"]||s:s}}i18n={"Share to":{en_US:"Share to ",zh_TW:"分享至",ja_JP:"共有",zh_CN:"分享至"}};_(null,"zh_TW");pix=pix||{};if("undefined"!==typeof JSON){pix.stringify=JSON.stringify;pix.parse=JSON.parse}pix.blogsharelog=function(service){jQuery.get("/blog/sharelog?url="+encodeURIComponent(document.location)+"&service="+service)};pix.bookmarkInit=function(title){function _bookmark_linksInit(){var fb_href=jQuery('meta[property="og:url"]').attr("content");var gplus_href=fb_href;return['<!-- MURMUR --><a title="'+_("Share to")+'MURMUR" href="javascript:desc=\'\';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open(\'http://murmur.tw/?sharelink=\'+encodeURIComponent(document.location)));"><img src="//s.pixfs.net/blog/images/common/murmur.gif" title="MURMUR" alt="MURMUR" border="0" style="width:20px;height:20px;"></a>','<!-- facebook --><a title="'+_("Share to")+"facebook\" href=\"javascript:desc='';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open('http://www.facebook.com/share.php?u='+encodeURIComponent('"+fb_href+'\')+\'&t=\'+encodeURIComponent(document.title.split(\'@\')[0].replace(/([\\s]*$)/g,\'\'))));"><img src="//s.pixfs.net/blog/images/common/facebook.gif" title="facebook" alt="facebook" border="0" style="width:18px;height:20px;"></a>','<!-- PLURK --><a title="'+_("Share to")+'PLURK" href="javascript:desc=\'\';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open(\'http://www.plurk.com/?qualifier=shares&status=\'+encodeURIComponent(location.href)));"><img src="//s.pixfs.net/blog/images/common/plurk.gif" title="PLURK" alt="PLURK" border="0" style="width:18px;height:20px;"></a>','<!-- twitter --><a title="'+_("Share to")+'twitter" href="javascript:desc=\'\';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open(\'http://twitter.com/?status=\'+encodeURIComponent(location.href+\' (\'+document.title.split(\'@\')[0].replace(/([\\s]*$)/g,\'\')+\')\')));"><img src="//s.pixfs.net/blog/images/common/twitter.gif" title="twitter" alt="twitter" border="0" style="width:18px;height:20px;"></a>','<!-- google plus --><div style="display:inline-block; *display: none;"><div class="g-plusone" data-size="medium" data-annotation="none" data-href="'+gplus_href+'"></div></div>','<!-- facebook iframe --><iframe src=" http://www.facebook.com/plugins/like.php?href='+encodeURIComponent(fb_href)+'&amp;layout=button_count&amp;show_faces=false&amp;width=90&amp;action=like&amp;font=arial&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe>']}var bookmark_links=_bookmark_linksInit();jQuery(function(){bookmark_links.unshift(title);jQuery(".bookmark").html(bookmark_links.join("\n"))})};(function($){$(function(){$(".hslice.box").on({mouseover:function(){$(this).find("h4").children("a").css("display","inline").show()},mouseout:function(){$(this).find("h4").children("a").hide()}})})})(jQuery);(function($,window){$(document).ready(function(){"use strict";var queryURLPara=function(para){var match=new RegExp("[?&]"+para+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))};var _body=$("body");var _idleIsEnabled=function(){return"none"===_body.data("mobile-mode")&&"none"!==_body.data("showing-advertisement")&&pix.owner!==pix.user_name&&/\/blog\/post/.test(document.location.pathname)||"1"==queryURLPara("idlepop")}();var _isDeskTopAndShowAdEnable=function(){return"none"===_body.data("mobile-mode")&&"none"!==_body.data("showing-advertisement")}();if(_idleIsEnabled){$.getScript($("#idleTemplate").data("main"))}var adQueryNo=queryURLPara("demo_ad_no");if(window.pix.owner===window.pix.user_name){initMIBUnfoldAd();return false}if(_isDeskTopAndShowAdEnable){var articleCategory=$("#article-box .title:first").data("site-category-id"),reqData={blog_category:$("body").data("blog-site-category-id"),demo_ad_no:adQueryNo};if(/\/blog\/post/.test(document.location.pathname)&&articleCategory>=0){reqData.article_category=articleCategory}$.ajax({type:"GET",async:false,url:"//falcon.pixanalytics.com/ad/jsonp/1020",dataType:"jsonp",data:reqData,success:function(data){var hasAd=!data.error&&data.ad_list&&0<data.ad_list.length;if(!hasAd){initMIBUnfoldAd();return}var ad=data.ad_list[0],element=$('<div id="falcon-ad-right-fixed-block">'+'<a href="'+ad.link+'" target="_blank" ">'+'<img src="'+ad.thumb+'" alt="falcon ad" class="ad-img"></a>'+'<div class="ad-title">'+ad.title+"</div>"+'<div class="cancel-btn">X</div>'+"</div>"),timeoutId;$("body").append(element).on("click","#falcon-ad-right-fixed-block .cancel-btn",function(){var image=new Image(1,1),optout=new Image(1,1);image.src=ad.closelink;optout.src=ad.opt_out_url;element.remove();window.clearTimeout(timeoutId)});timeoutId=window.setTimeout(function(){element.animate({right:0},1e3)},1e3)},error:function(){initMIBUnfoldAd()}})}if("none"===_body.data("showing-advertisement")){initMIBUnfoldAd()}function initMIBUnfoldAd(){if(pix.MIB&&pix.MIB.unfold&&pix.MIB.unfold.init){pix.MIB.unfold.init()}}(function(){var userAgent=window.navigator.userAgent,interIdeographIndexArr=[],$contentChilds=$(".article-content-inner").find("p, li"),i=0;if(userAgent.match(/MSIE |Trident.*rv\:11\.|Edge\//)){$contentChilds.each(function(key){var attrStyle=$(this).attr("style");if(attrStyle&&-1!==attrStyle.indexOf("justify")){interIdeographIndexArr[interIdeographIndexArr.length]=key}});for(i=0;i<interIdeographIndexArr.length;i++){$contentChilds.eq(interIdeographIndexArr[i]).css("text-justify","inter-ideograph")}}})()})})(jQuery,window);
