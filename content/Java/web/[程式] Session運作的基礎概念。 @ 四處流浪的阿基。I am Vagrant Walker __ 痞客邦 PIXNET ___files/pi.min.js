(function(){var pi={};pi.configs={img:"https://pixanalytics.com/pi.gif",vars:["document.referrer","document.URL","screen.availHeight","screen.availLeft","screen.availTop","screen.availWidth","screen.colorDepth","screen.height","screen.pixelDepth","screen.width","window.closed","window.height","window.innerHeight","window.innerWidth","window.length","window.location","window.pageXOffset","window.pageYOffset","window.outerHeight","window.outerWidth","window.screenX","window.screenY","window.width","navigator.userAgent","window.devicePixelRatio"],customAllowVars:{venue:"",author_id:"",article_category_id:"",nonce:"",url:"",label:"",visitor_id:"",visitor_openid:""},customVars:{},getParams:["utm_source","utm_medium","utm_term","utm_content","utm_campaign"],requestPrefix:function(type){var url,i;url=pi.configs.img+"?t="+(type||"pv")+"&r="+Math.random();for(i=0;i<pi.configs.vars.length;i++){try{url+="&"+pi.configs.vars[i]+"="+encodeURIComponent(eval(pi.configs.vars[i]))}catch(e){continue}}for(var key in pi.configs.customVars){if(false===pi.configs.customVars.hasOwnProperty(key)){continue}url+="&"+key+"="+encodeURIComponent(pi.configs.customVars[key])}for(i=0;i<pi.configs.getParams.length;i++){url+="&"+pi.configs.getParams[i]+"="+encodeURIComponent(pi.utils.getGetParam(pi.configs.getParams[i]))}return url}};pi.utils={getGetParam:function(param){var match=new RegExp("[?&]"+param+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))||""}};pi.methods={trackPageView:function(optPagePath){var img=new Image,src=pi.configs.requestPrefix("pv");if(0<optPagePath.length){optPagePath=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/"+optPagePath.replace(/^\/+/,"");src=src.replace(/document.URL=[^&]+/,"document.URL="+encodeURIComponent(optPagePath))}img.src=src;return},trackEvent:function(values){var idx,img=new Image,src=pi.configs.requestPrefix("et"),params=["e_category","e_action","e_label","e_value"];for(idx=0;idx<params.length;idx++){if(undefined===values[idx]){continue}src+="&"+params[idx]+"="+encodeURIComponent(values[idx])}img.src=src;return}};pi.run=function(t){var task="[object Array]"===Object.prototype.toString.call(t)?t:[],func=task.shift(),args=task;switch(func){case"setCustomVar":if(true===pi.configs.customAllowVars.hasOwnProperty(args[0])){pi.configs.customVars[args[0]]=args[1]}break;case"trackPageView":pi.methods[func](args.shift()||"");break;case"trackEvent":pi.methods[func](args);break}};pi.reset=function(){_piq=[];_piq.push=function(){for(var i=0;i<arguments.length;i++){pi.run(arguments[i])}pi.reset()}};pi.init=function(){for(var i=0;i<_piq.length;i++){try{pi.run(_piq[i])}catch(e){}}pi.reset()};if("object"!==typeof _piq){_piq=[]}pi.init()})(window);
