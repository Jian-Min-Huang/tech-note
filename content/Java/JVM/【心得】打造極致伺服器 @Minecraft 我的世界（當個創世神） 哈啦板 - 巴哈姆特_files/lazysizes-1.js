/*! lazysizes - v1.3.1 */

!function(e,t){var i=t(e,e.document);e.lazySizes=i,"object"==typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd&&define("lazysizes-1.3.1.min",i)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var i,a=t.documentElement,n=e.HTMLPictureElement&&"sizes"in t.createElement("img"),r="addEventListener",s=e[r],o=e.setTimeout,l=e.requestAnimationFrame||o,c=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],u={},f=Array.prototype.forEach,m=function(e,t){return u[t]||(u[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),u[t].test(e.className)&&u[t]},g=function(e,t){m(e,t)||(e.className=e.className.trim()+" "+t)},z=function(e,t){var i;(i=m(e,t))&&(e.className=e.className.replace(i," "))},v=function(e,t,i){var a=i?r:"removeEventListener";i&&v(e,t),d.forEach(function(i){e[a](i,t)})},y=function(e,i,a,n,r){var s=t.createEvent("CustomEvent");return s.initCustomEvent(i,!n,!r,a||{}),e.dispatchEvent(s),s},p=function(t,a){var r;!n&&(r=e.picturefill||i.pf)?r({reevaluate:!0,elements:[t]}):a&&a.src&&(t.src=a.src)},h=function(e,t){return(getComputedStyle(e,null)||{})[t]},C=function(e,t,a){for(a=a||e.offsetWidth;a<i.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},A=function(t){var i,a=0,n=e.Date,r=function(){i=!1,a=n.now(),t()},s=function(){o(r)},c=function(){l(s)};return function(){if(!i){var e=125-(n.now()-a);i=!0,6>e&&(e=6),o(c,e)}}},b=function(){var n,d,u,C,b,N,M,w,_,W,x,B,S,L,R=/^img$/i,D=/^iframe$/i,T="onscroll"in e&&!/glebot/.test(navigator.userAgent),k=0,O=0,P=0,$=0,F=function(e){P--,e&&e.target&&v(e.target,F),(!e||0>P||!e.target)&&(P=0)},H=function(e,t){var i,a=e,n="hidden"!=h(e,"visibility");for(_-=t,B+=t,W-=t,x+=t;n&&(a=a.offsetParent);)n=(h(a,"opacity")||1)>0,n&&"visible"!=h(a,"overflow")&&(i=a.getBoundingClientRect(),n=x>i.left&&W<i.right&&B>i.top-1&&_<i.bottom+1);return n},I=function(){var e,t,a,r,s,o,l,c,f;if((b=i.loadMode)&&8>P&&(e=n.length)){for(t=0,$++,L>O&&1>P&&$>3&&b>2?(O=L,$=0):O=b>1&&$>2&&6>P?S:k;e>t;t++)if(n[t]&&!n[t]._lazyRace)if(T)if((c=n[t].getAttribute("data-expand"))&&(o=1*c)||(o=O),f!==o&&(M=innerWidth+o,w=innerHeight+o,l=-1*o,f=o),a=n[t].getBoundingClientRect(),(B=a.bottom)>=l&&(_=a.top)<=w&&(x=a.right)>=l&&(W=a.left)<=M&&(B||x||W||_)&&(u&&3>P&&!c&&(3>b||4>$)||H(n[t],o))){if(Q(n[t]),s=!0,P>9)break;P>6&&(O=k)}else!s&&u&&!r&&4>P&&4>$&&b>2&&(d[0]||i.preloadAfterLoad)&&(d[0]||!c&&(B||x||W||_||"auto"!=n[t].getAttribute(i.sizesAttr)))&&(r=d[0]||n[t]);else Q(n[t]);r&&!s&&Q(r)}},j=A(I),q=function(e){g(e.target,i.loadedClass),z(e.target,i.loadingClass),v(e.target,q)},G=function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.src=t}},J=function(e){var t,a,n=e.getAttribute(i.srcsetAttr);(t=i.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n),t&&(a=e.parentNode,a.insertBefore(e.cloneNode(),e),a.removeChild(e))},K=function(){var e,t=[],i=function(){for(;t.length;)t.shift()();e=!1};return function(a){t.push(a),e||(e=!0,l(i))}}(),Q=function(e){var t,a,n,r,s,l,d,h=R.test(e.nodeName),A=h&&(e.getAttribute(i.sizesAttr)||e.getAttribute("sizes")),b="auto"==A;(!b&&u||!h||!e.src&&!e.srcset||e.complete||m(e,i.errorClass))&&(b&&(d=e.offsetWidth),e._lazyRace=!0,P++,K(function(){e._lazyRace&&delete e._lazyRace,z(e,i.lazyClass),(s=y(e,"lazybeforeunveil")).defaultPrevented||(A&&(b?(g(e,i.autosizesClass),E.updateElem(e,!0,d)):e.setAttribute("sizes",A)),a=e.getAttribute(i.srcsetAttr),t=e.getAttribute(i.srcAttr),h&&(n=e.parentNode,r=n&&c.test(n.nodeName||"")),l=s.detail.firesLoad||"src"in e&&(a||t||r),s={target:e},l&&(v(e,F,!0),clearTimeout(C),C=o(F,2500),g(e,i.loadingClass),v(e,q,!0)),r&&f.call(n.getElementsByTagName("source"),J),a?e.setAttribute("srcset",a):t&&!r&&(D.test(e.nodeName)?G(e,t):e.src=t),(a||r)&&p(e,{src:t})),(!l||e.complete)&&(l?F(s):P--,q(s))}))},U=function(){if(!u){if(Date.now()-N<999)return void o(U,999);var e,t=function(){i.loadMode=3,j()};u=!0,i.loadMode=3,P||j(),s("scroll",function(){3==i.loadMode&&(i.loadMode=2),clearTimeout(e),e=o(t,99)},!0)}};return{_:function(){N=Date.now(),n=t.getElementsByClassName(i.lazyClass),d=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),S=i.expand,L=S*i.expFactor,s("scroll",j,!0),s("resize",j,!0),e.MutationObserver?new MutationObserver(j).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[r]("DOMNodeInserted",j,!0),a[r]("DOMAttrModified",j,!0),setInterval(j,999)),s("hashchange",j,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[r](e,j,!0)}),/d$|^c/.test(t.readyState)?U():(s("load",U),t[r]("DOMContentLoaded",j),o(U,2e4)),j(n.length>0)},checkElems:j,unveil:Q}}(),E=function(){var e,a=function(e,t,i){var a,n,r,s,o=e.parentNode;if(o&&(i=C(e,o,i),s=y(e,"lazybeforesizes",{width:i,dataAttr:!!t}),!s.defaultPrevented&&(i=s.detail.width,i&&i!==e._lazysizesWidth))){if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),c.test(o.nodeName||""))for(a=o.getElementsByTagName("source"),n=0,r=a.length;r>n;n++)a[n].setAttribute("sizes",i);s.detail.dataAttr||p(e,s.detail)}},n=function(){var t,i=e.length;if(i)for(t=0;i>t;t++)a(e[t])},r=A(n);return{_:function(){e=t.getElementsByClassName(i.autosizesClass),s("resize",r)},checkElems:r,updateElem:a}}(),N=function(){N.i||(N.i=!0,E._(),b._())};return function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,expand:a.clientHeight>630?a.clientWidth>890?500:410:359,loadMode:2};i=e.lazySizesConfig||e.lazysizesConfig||{};for(t in n)t in i||(i[t]=n[t]);e.lazySizesConfig=i,o(function(){i.init&&N()})}(),{cfg:i,autoSizer:E,loader:b,init:N,uP:p,aC:g,rC:z,hC:m,fire:y,gW:C}}});